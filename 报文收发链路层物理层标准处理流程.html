<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>800G/400G ä»¥å¤ªç½‘èŠ¯ç‰‡æŠ¥æ–‡å¤„ç†æµç¨‹è¯¦è§£</title>  
    <style>  
        * {  
            margin: 0;  
            padding: 0;  
            box-sizing: border-box;  
        }  

        body {  
            font-family: 'Microsoft YaHei', 'SimHei', Arial, sans-serif;  
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);  
            padding: 20px;  
            min-height: 100vh;  
        }  

        .container {  
            max-width: 1800px;  
            margin: 0 auto;  
            background: white;  
            border-radius: 15px;  
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);  
            padding: 30px;  
        }  

        h1 {  
            text-align: center;  
            color: #2c3e50;  
            margin-bottom: 10px;  
            font-size: 36px;  
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  
            -webkit-background-clip: text;  
            -webkit-text-fill-color: transparent;  
        }  

        .subtitle {  
            text-align: center;  
            color: #7f8c8d;  
            margin-bottom: 20px;  
            font-size: 14px;  
        }  

        .reference-box {  
            background: #e8f4f8;  
            border-left: 5px solid #3498db;  
            padding: 15px;  
            margin-bottom: 20px;  
            border-radius: 5px;  
        }  

        .reference-box h3 {  
            color: #2980b9;  
            margin-bottom: 10px;  
            font-size: 16px;  
        }  

        .reference-box ul {  
            list-style: none;  
            font-size: 13px;  
            color: #34495e;  
            line-height: 1.8;  
        }  

        .reference-box li::before {  
            content: "ğŸ“– ";  
            margin-right: 5px;  
        }  

        .controls {  
            text-align: center;  
            margin-bottom: 30px;  
            padding: 20px;  
            background: #f8f9fa;  
            border-radius: 10px;  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            flex-wrap: wrap;  
            gap: 15px;  
        }  

        .speed-selector {  
            display: flex;  
            gap: 10px;  
            align-items: center;  
        }  

        .speed-btn {  
            padding: 10px 20px;  
            font-size: 14px;  
            border: 2px solid #3498db;  
            background: white;  
            color: #3498db;  
            border-radius: 25px;  
            cursor: pointer;  
            transition: all 0.3s;  
            font-weight: bold;  
        }  

        .speed-btn.active {  
            background: #3498db;  
            color: white;  
            transform: scale(1.05);  
        }  

        .speed-btn:hover {  
            box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);  
        }  

        .btn {  
            padding: 12px 30px;  
            font-size: 16px;  
            border: none;  
            border-radius: 8px;  
            cursor: pointer;  
            transition: all 0.3s;  
            font-weight: bold;  
        }  

        .btn-primary {  
            background: #27ae60;  
            color: white;  
        }  

        .btn-primary:hover {  
            background: #229954;  
            transform: translateY(-2px);  
            box-shadow: 0 5px 15px rgba(39, 174, 96, 0.4);  
        }  

        .btn-secondary {  
            background: #e67e22;  
            color: white;  
        }  

        .btn-secondary:hover {  
            background: #d35400;  
            transform: translateY(-2px);  
        }  

        .btn-danger {  
            background: #e74c3c;  
            color: white;  
        }  

        .btn-danger:hover {  
            background: #c0392b;  
            transform: translateY(-2px);  
        }  

        .flow-container {  
            display: flex;  
            gap: 30px;  
            margin-top: 20px;  
        }  

        .direction-column {  
            flex: 1;  
            background: #f8f9fa;  
            border-radius: 10px;  
            padding: 25px;  
            border: 3px solid #e9ecef;  
        }  

        .direction-column.tx {  
            border-color: #27ae60;  
        }  

        .direction-column.rx {  
            border-color: #3498db;  
        }  

        .direction-title {  
            text-align: center;  
            font-size: 24px;  
            font-weight: bold;  
            margin-bottom: 20px;  
            padding: 15px;  
            border-radius: 8px;  
        }  

        .direction-title.tx {  
            background: linear-gradient(135deg, #27ae60, #2ecc71);  
            color: white;  
        }  

        .direction-title.rx {  
            background: linear-gradient(135deg, #3498db, #5dade2);  
            color: white;  
        }  

        .layer {  
            background: white;  
            border-radius: 10px;  
            padding: 20px;  
            margin: 20px 0;  
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);  
            position: relative;  
            transition: all 0.3s;  
            border-left: 5px solid #95a5a6;  
        }  

        .layer:hover {  
            transform: translateX(5px);  
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);  
        }  

        .layer.active {  
            border-left-color: #f39c12;  
            background: linear-gradient(to right, #fff5e6 0%, white 100%);  
        }  

        .layer-header {  
            display: flex;  
            justify-content: space-between;  
            align-items: center;  
            margin-bottom: 15px;  
            padding-bottom: 10px;  
            border-bottom: 2px solid #ecf0f1;  
        }  

        .layer-name {  
            font-size: 18px;  
            font-weight: bold;  
            color: #2c3e50;  
        }  

        .layer-standard {  
            font-size: 11px;  
            background: #3498db;  
            color: white;  
            padding: 3px 10px;  
            border-radius: 12px;  
        }  

        .sublayer {  
            margin: 15px 0;  
            padding: 15px;  
            background: #f8f9fa;  
            border-radius: 8px;  
            border-left: 3px solid #bdc3c7;  
        }  

        .sublayer-name {  
            font-weight: bold;  
            color: #34495e;  
            margin-bottom: 8px;  
            font-size: 14px;  
        }  

        .sublayer-desc {  
            font-size: 12px;  
            color: #7f8c8d;  
            line-height: 1.6;  
        }  

        .sublayer-details {  
            margin-top: 10px;  
            font-size: 11px;  
            color: #95a5a6;  
            font-family: 'Courier New', monospace;  
        }  

        .data-flow {  
            display: flex;  
            align-items: center;  
            gap: 10px;  
            margin: 15px 0;  
            padding: 10px;  
            background: #e8f8f5;  
            border-radius: 5px;  
        }  

        .data-label {  
            font-size: 12px;  
            color: #16a085;  
            font-weight: bold;  
        }  

        .data-value {  
            flex: 1;  
            font-size: 11px;  
            color: #2c3e50;  
            font-family: 'Courier New', monospace;  
            background: white;  
            padding: 5px 10px;  
            border-radius: 3px;  
        }  

        .packet {  
            position: absolute;  
            width: 40px;  
            height: 40px;  
            background: linear-gradient(135deg, #f39c12, #e67e22);  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            color: white;  
            font-weight: bold;  
            font-size: 14px;  
            box-shadow: 0 3px 15px rgba(243, 156, 18, 0.5);  
            z-index: 10;  
            animation: pulse 1.5s infinite;  
        }  

        @keyframes pulse {  
            0%, 100% { transform: scale(1); }  
            50% { transform: scale(1.1); }  
        }  

        .arrow {  
            text-align: center;  
            font-size: 30px;  
            color: #27ae60;  
            margin: 15px 0;  
            animation: bounce 2s infinite;  
        }  

        .arrow.rx {  
            color: #3498db;  
        }  

        @keyframes bounce {  
            0%, 100% { transform: translateY(0); }  
            50% { transform: translateY(-10px); }  
        }  

        .info-panel {  
            background: #fff3cd;  
            border: 2px solid #ffc107;  
            border-radius: 10px;  
            padding: 15px;  
            margin-top: 20px;  
        }  

        .info-title {  
            font-weight: bold;  
            color: #856404;  
            margin-bottom: 10px;  
            font-size: 16px;  
        }  

        .info-content {  
            color: #856404;  
            font-size: 13px;  
            line-height: 1.8;  
        }  

        .specs-table {  
            width: 100%;  
            border-collapse: collapse;  
            margin-top: 10px;  
            font-size: 12px;  
        }  

        .specs-table th {  
            background: #34495e;  
            color: white;  
            padding: 8px;  
            text-align: left;  
        }  

        .specs-table td {  
            padding: 8px;  
            border-bottom: 1px solid #ecf0f1;  
        }  

        .specs-table tr:hover {  
            background: #f8f9fa;  
        }  

        .legend {  
            display: flex;  
            justify-content: center;  
            gap: 30px;  
            margin-top: 30px;  
            padding: 20px;  
            background: #f8f9fa;  
            border-radius: 10px;  
            flex-wrap: wrap;  
        }  

        .legend-item {  
            display: flex;  
            align-items: center;  
            gap: 10px;  
        }  

        .legend-color {  
            width: 30px;  
            height: 30px;  
            border-radius: 5px;  
        }  

        .status-indicator {  
            display: inline-block;  
            width: 12px;  
            height: 12px;  
            border-radius: 50%;  
            margin-right: 8px;  
        }  

        .status-indicator.active {  
            background: #27ae60;  
            box-shadow: 0 0 10px #27ae60;  
        }  

        .status-indicator.inactive {  
            background: #95a5a6;  
        }  

        .code-block {  
            background: #2c3e50;  
            color: #2ecc71;  
            padding: 10px;  
            border-radius: 5px;  
            font-family: 'Courier New', monospace;  
            font-size: 11px;  
            margin-top: 10px;  
            overflow-x: auto;  
            line-height: 1.5;  
        }  

        .timeline {  
            position: relative;  
            padding: 20px 0;  
        }  

        .timeline-item {  
            position: relative;  
            padding-left: 40px;  
            margin-bottom: 20px;  
        }  

        .timeline-item::before {  
            content: '';  
            position: absolute;  
            left: 10px;  
            top: 0;  
            bottom: -20px;  
            width: 2px;  
            background: #3498db;  
        }  

        .timeline-item::after {  
            content: '';  
            position: absolute;  
            left: 6px;  
            top: 5px;  
            width: 10px;  
            height: 10px;  
            border-radius: 50%;  
            background: #3498db;  
        }  

        .timeline-item.active::after {  
            background: #27ae60;  
            box-shadow: 0 0 10px #27ae60;  
        }  

        .modal {  
            display: none;  
            position: fixed;  
            z-index: 1000;  
            left: 0;  
            top: 0;  
            width: 100%;  
            height: 100%;  
            background: rgba(0,0,0,0.8);  
            overflow: auto;  
        }  

        .modal-content {  
            background: white;  
            margin: 50px auto;  
            padding: 30px;  
            border-radius: 15px;  
            max-width: 900px;  
            box-shadow: 0 10px 40px rgba(0,0,0,0.5);  
        }  

        .close {  
            float: right;  
            font-size: 35px;  
            font-weight: bold;  
            cursor: pointer;  
            color: #95a5a6;  
        }  

        .close:hover {  
            color: #2c3e50;  
        }  

        .tabs {  
            display: flex;  
            gap: 10px;  
            margin-bottom: 20px;  
            border-bottom: 2px solid #ecf0f1;  
        }  

        .tab {  
            padding: 10px 20px;  
            cursor: pointer;  
            border-radius: 5px 5px 0 0;  
            background: #ecf0f1;  
            transition: all 0.3s;  
        }  

        .tab.active {  
            background: #3498db;  
            color: white;  
        }  

        .tab-content {  
            display: none;  
        }  

        .tab-content.active {  
            display: block;  
        }  

        @media (max-width: 1200px) {  
            .flow-container {  
                flex-direction: column;  
            }  
        }  

        .highlight {  
            background: yellow;  
            font-weight: bold;  
            padding: 2px 5px;  
            border-radius: 3px;  
        }  

        .badge {  
            display: inline-block;  
            padding: 3px 8px;  
            border-radius: 12px;  
            font-size: 11px;  
            font-weight: bold;  
            margin-left: 8px;  
        }  

        .badge-success {  
            background: #27ae60;  
            color: white;  
        }  

        .badge-info {  
            background: #3498db;  
            color: white;  
        }  

        .badge-warning {  
            background: #f39c12;  
            color: white;  
        }  

        .progress-bar {  
            width: 100%;  
            height: 6px;  
            background: #ecf0f1;  
            border-radius: 3px;  
            overflow: hidden;  
            margin-top: 10px;  
        }  

        .progress-fill {  
            height: 100%;  
            background: linear-gradient(90deg, #27ae60, #2ecc71);  
            width: 0%;  
            transition: width 1s ease;  
        }  
    </style>  
</head>  
<body>  
    <div class="container">  
        <h1>ğŸš€ 800G/400G ä»¥å¤ªç½‘èŠ¯ç‰‡æŠ¥æ–‡å¤„ç†æµç¨‹è¯¦è§£</h1>  
        <p class="subtitle">ä»MACåˆ°SerDeså®Œæ•´æ•°æ®è·¯å¾„ | åŸºäºIEEE 802.3df/bsæ ‡å‡†</p>  

        <!-- å‚è€ƒæ ‡å‡† -->  
        <div class="reference-box">  
            <h3>ğŸ“š å‚è€ƒæ ‡å‡†æ–‡çŒ®</h3>  
            <ul>  
                <li><strong>800GbE:</strong> IEEE 802.3df-2024 - Clause 169/170/171 (800GBASE-R, PCS, FEC)</li>  
                <li><strong>400GbE:</strong> IEEE 802.3bs-2017 - Clause 122/123/119 (400GBASE-R, PCS, RS-FEC)</li>  
                <li><strong>PCSç¼–ç :</strong> IEEE 802.3-2022 Clause 82 (64B/66B), Clause 49 (XGMII)</li>  
                <li><strong>FEC:</strong> IEEE 802.3 Clause 91 (RS-FEC 544,514), Clause 119.2 (KP4 FEC)</li>  
                <li><strong>SerDes/PMD:</strong> OIF CEI-56G/112G, IEEE 802.3 Clause 169.7/122.6</li>  
            </ul>  
        </div>  

        <!-- æ§åˆ¶é¢æ¿ -->  
        <div class="controls">  
            <div class="speed-selector">  
                <span style="font-weight: bold; color: #2c3e50;">é€‰æ‹©é€Ÿç‡:</span>  
                <button class="speed-btn active" onclick="selectSpeed('800G')">800GbE (8Ã—106.25G)</button>  
                <button class="speed-btn" onclick="selectSpeed('400G')">400GbE (8Ã—53.125G)</button>  
            </div>  
            <button class="btn btn-primary" onclick="startTxFlow()">â–¶ï¸ å¯åŠ¨TXå‘é€</button>  
            <button class="btn btn-secondary" onclick="startRxFlow()">â–¶ï¸ å¯åŠ¨RXæ¥æ”¶</button>  
            <button class="btn btn-danger" onclick="resetFlow()">ğŸ”„ é‡ç½®</button>  
            <button class="btn btn-primary" onclick="showDetailModal()">ğŸ“– è¯¦ç»†è§„æ ¼</button>  
        </div>  

        <!-- ä¸»æµç¨‹åŒºåŸŸ -->  
        <div class="flow-container">  
            <!-- TXå‘é€æµç¨‹ -->  
            <div class="direction-column tx">  
                <div class="direction-title tx">ğŸ“¤ TX å‘é€æµç¨‹ (Host â†’ Line)</div>  

                <!-- Layer 2: MAC Client -->  
                <div class="layer" id="tx-mac">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-mac-status"></span>  
                            L2: MAC Client  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 1-4</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ ä»¥å¤ªç½‘å¸§ç”Ÿæˆ</div>  
                        <div class="sublayer-desc">  
                            â€¢ å¸§ç»“æ„: DA(6B) + SA(6B) + Type/Len(2B) + Payload(46-1500B) + FCS(4B)<br>  
                            â€¢ å¸§å¤§å°: 64-1518 Bytes (æ ‡å‡†), æœ€å¤§9600 Bytes (Jumbo)<br>  
                            â€¢ FCSæ ¡éªŒ: CRC-32è®¡ç®—<br>  
                            â€¢ é€Ÿç‡: <span id="tx-mac-rate">800 Gbps</span>  
                        </div>  
                        <div class="data-flow">  
                            <span class="data-label">è¾“å‡º:</span>  
                            <span class="data-value" id="tx-mac-output">ç­‰å¾…å¯åŠ¨...</span>  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow">â¬‡ï¸</div>  

                <!-- Layer 2: MAC Control (Optional) -->  
                <div class="layer" id="tx-mac-ctrl">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-mac-ctrl-status"></span>  
                            L2: MAC Control (Optional)  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 31</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ æµæ§ä¸ç®¡ç†</div>  
                        <div class="sublayer-desc">  
                            â€¢ PAUSEå¸§ç”Ÿæˆ (802.3x)<br>  
                            â€¢ PFC (Priority Flow Control - 802.1Qbb)<br>  
                            â€¢ MAC Control Opcodes<br>  
                            â€¢ æ¥å£: GMII/XGMII â†’ CGMII (800G: 32Ã—64bit @781.25MHz)  
                        </div>  
                        <div class="code-block">  
CGMII Width: 32 lanes Ã— 64-bit<br>  
Clock: 781.25 MHz (800G) / 390.625 MHz (400G)<br>  
Control: TXC[31:0] + TXD[2047:0]  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow">â¬‡ï¸</div>  

                <!-- Reconciliation Sublayer -->  
                <div class="layer" id="tx-rs">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-rs-status"></span>  
                            RS: Reconciliation Sublayer  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 169.3/122.3</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ æ¥å£é€‚é…</div>  
                        <div class="sublayer-desc">  
                            â€¢ CGMII â†’ PCSå†…éƒ¨æ¥å£é€‚é…<br>  
                            â€¢ æ—¶é’ŸåŸŸè½¬æ¢<br>  
                            â€¢ Laneåˆ†é…: <span id="tx-rs-lanes">8 Lanes Ã— 100G</span><br>  
                            â€¢ æ•°æ®å®½åº¦: æ¯Lane 128-bit  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow">â¬‡ï¸</div>  

                <!-- PCS Layer -->  
                <div class="layer" id="tx-pcs">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-pcs-status"></span>  
                            PCS: Physical Coding Sublayer  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 82/170</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ PCS TX Gearbox</div>  
                        <div class="sublayer-desc">  
                            â€¢ è¾“å…¥: CGMII æ•°æ®æµ<br>  
                            â€¢ åŠŸèƒ½: æ•°æ®ä½å®½è½¬æ¢ä¸å¯¹é½<br>  
                            â€¢ è¾“å‡º: 64-bitæ•°æ®å—  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ 64B/66Bç¼–ç å™¨</div>  
                        <div class="sublayer-desc">  
                            â€¢ ç¼–ç è§„åˆ™: æ¯64-bitæ•°æ® â†’ 66-bitç å—<br>  
                            â€¢ Sync Header: 2-bit (01/10) ç”¨äºåŒæ­¥<br>  
                            â€¢ Control Blocks: IDLE(/I/), START(/S/), TERMINATE(/T/), ERROR(/E/)<br>  
                            â€¢ æ•°æ®å—ç±»å‹: 0x1E (Data), 0x2D (Control), 0x33 (Ordered Set)<br>  
                            â€¢ ç¼–ç é€Ÿç‡: 64/66 = 96.97%æ•ˆç‡  
                        </div>  
                        <div class="code-block">  
Block Format:<br>  
[Sync:2b][Type:8b][Data:56b] â†’ 66-bit<br>  
Data Block: 01 + 0x1E + 56-bit data<br>  
Control Block: 10 + Control_Type + 56-bit  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Scrambler (æ‰°ç å™¨)</div>  
                        <div class="sublayer-desc">  
                            â€¢ å¤šé¡¹å¼: G(x) = 1 + xÂ³â¹ + xâµâ¸<br>  
                            â€¢ ç›®çš„: é¢‘è°±åˆ†æ•£, é™ä½EMI<br>  
                            â€¢ å¤„ç†: å¯¹66-bitå—çš„64-bitæ•°æ®éƒ¨åˆ†æ‰°ç <br>  
                            â€¢ Sync Headerä¸æ‰°ç   
                        </div>  
                        <div class="sublayer-details">  
Scrambler LFSR: 58-bit shift register  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ AM Insertion (å¯¹é½æ ‡è®°æ’å…¥)</div>  
                        <div class="sublayer-desc">  
                            â€¢ AM Pattern: 0x9A4A26B5C16D7E8F (å›ºå®šç å‹)<br>  
                            â€¢ æ’å…¥é—´éš”: <span id="tx-am-interval">16383 blocks</span> (å¯é…)<br>  
                            â€¢ æ¯Laneç‹¬ç«‹AM<br>  
                            â€¢ Lane IDç¼–ç åœ¨AMä¸­<br>  
                            â€¢ åŠŸèƒ½: RXç«¯Laneå¯¹é½ä¸Deskew  
                        </div>  
                        <div class="code-block">  
AM[127:0] = {MARKER[95:0], LANE_ID[7:0], ..}  
Interval (800G): 16383 blocks â‰ˆ 21Î¼s  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Lane Distribution (è™šæ‹Ÿé€šé“åˆ†é…)</div>  
                        <div class="sublayer-desc">  
                            â€¢ <span id="tx-lane-dist">8 Virtual Lanes (VL0-VL7)</span><br>  
                            â€¢ æ¯Laneç‹¬ç«‹ç¼–ç é“¾<br>  
                            â€¢ Round-Robinåˆ†é…ç­–ç•¥<br>  
                            â€¢ Lane Markerè·Ÿè¸ª  
                        </div>  
                    </div>  

                    <div class="data-flow">  
                        <span class="data-label">è¾“å‡º:</span>  
                        <span class="data-value" id="tx-pcs-output">ç­‰å¾…å¯åŠ¨...</span>  
                    </div>  
                </div>  

                <div class="arrow">â¬‡ï¸</div>  

                <!-- FEC Layer -->  
                <div class="layer" id="tx-fec">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-fec-status"></span>  
                            FEC: Forward Error Correction  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 91/119.2/171</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ FEC Encoder</div>  
                        <div class="sublayer-desc">  
                            <strong>ç®—æ³•:</strong> <span id="tx-fec-algo">RS(544, 514) Reed-Solomon</span><br>  
                            â€¢ ä¿¡æ¯ä½: 514 symbols Ã— 10-bit = 5140-bit<br>  
                            â€¢ æ ¡éªŒä½: 30 symbols Ã— 10-bit = 300-bit<br>  
                            â€¢ ç å­—é•¿åº¦: 544 symbols = 5440-bit<br>  
                            â€¢ çº é”™èƒ½åŠ›: æœ€å¤šçº æ­£15ä¸ªsymbolé”™è¯¯<br>  
                            â€¢ ç¼–ç ç‡: 514/544 = 94.49%<br>  
                            â€¢ Pre-FEC BERè¦æ±‚: â‰¤ 5Ã—10â»âµ<br>  
                            â€¢ Post-FEC BERç›®æ ‡: â‰¤ 10â»Â¹Â²  
                        </div>  
                        <div class="code-block">  
<span id="tx-fec-detail">  
RS(544,514) Galois Field: GF(2Â¹â°)<br>  
Generator Polynomial: g(x) = Î (x - Î±^i), i=0..29<br>  
Codeword = [Data:514 | Parity:30]<br>  
Latency: ~50-100ns</span>  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Transcoder (PCSâ†’FEC)</div>  
                        <div class="sublayer-desc">  
                            â€¢ 66-bit PCS blocks â†’ 10-bit FEC symbols<br>  
                            â€¢ ç¬¦å·è¾¹ç•Œå¯¹é½<br>  
                            â€¢ Codewordç»„è£…  
                        </div>  
                    </div>  

                    <div class="data-flow">  
                        <span class="data-label">è¾“å‡º:</span>  
                        <span class="data-value" id="tx-fec-output">ç­‰å¾…å¯åŠ¨...</span>  
                    </div>  
                </div>  

                <div class="arrow">â¬‡ï¸</div>  

                <!-- PMA Layer -->  
                <div class="layer" id="tx-pma">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-pma-status"></span>  
                            PMA: Physical Medium Attachment  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 169.6/122.5</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ PMA Tx Gearbox</div>  
                        <div class="sublayer-desc">  
                            â€¢ FECç å­— â†’ SerDesä½å®½é€‚é…<br>  
                            â€¢ æ—¶é’Ÿé€Ÿç‡è½¬æ¢<br>  
                            â€¢ æ•°æ®ä¸²è¡ŒåŒ–å‡†å¤‡  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Lane Alignment & Mapping</div>  
                        <div class="sublayer-desc">  
                            â€¢ Laneé¡ºåºè°ƒæ•´<br>  
                            â€¢ Physical Laneæ˜ å°„<br>  
                            â€¢ Lane Polarityæ§åˆ¶  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow">â¬‡ï¸</div>  

                <!-- SerDes TX -->  
                <div class="layer" id="tx-serdes">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-serdes-status"></span>  
                            SerDes: Serializer/Deserializer TX  
                        </span>  
                        <span class="layer-standard">OIF CEI-56G/112G</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Parallel-to-Serial Converter</div>  
                        <div class="sublayer-desc">  
                            â€¢ è¾“å…¥ä½å®½: 128-bit/256-bit parallel<br>  
                            â€¢ è¾“å‡º: ä¸²è¡Œæ¯”ç‰¹æµ<br>  
                            â€¢ æ¯Laneç‹¬ç«‹Serializer  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ PAM4 Modulator (è°ƒåˆ¶å™¨)</div>  
                        <div class="sublayer-desc">  
                            <strong>è°ƒåˆ¶æ–¹å¼:</strong> <span id="tx-pam-type">PAM4 (4-level)</span><br>  
                            â€¢ ç¬¦å·é€Ÿç‡: <span id="tx-baud-rate">106.25 Gbaud/Lane</span><br>  
                            â€¢ ç”µå¹³æ˜ å°„: 00â†’-3, 01â†’-1, 10â†’+1, 11â†’+3<br>  
                            â€¢ Grayç¼–ç é™ä½è¯¯ç <br>  
                            â€¢ æ¯ç¬¦å·2-bitä¿¡æ¯  
                        </div>  
                        <div class="code-block">  
<span id="tx-serdes-detail">  
800G: 8 Lanes Ã— 106.25 Gbaud Ã— 2 bit/symbol = 800G<br>  
400G: 8 Lanes Ã— 53.125 Gbaud Ã— 2 bit/symbol = 400G<br>  
PAM4 Levels: {-3Ïƒ, -Ïƒ, +Ïƒ, +3Ïƒ}</span>  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Pre-Emphasis & Equalization</div>  
                        <div class="sublayer-desc">  
                            â€¢ FFE (Feed-Forward Equalizer): é¢„åŠ é‡<br>  
                            â€¢ Tapç³»æ•°å¯é…: å‰3-5 taps<br>  
                            â€¢ è¡¥å¿ä¿¡é“æŸè€—<br>  
                            â€¢ æå‡é«˜é¢‘åˆ†é‡  
                        </div>  
                        <div class="sublayer-details">  
FFE Taps: C(-2), C(-1), C(0), C(1), C(2)<br>  
Typical: C(0)=0.7, C(-1)=0.15, C(1)=0.15  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ TX Driver (å‘é€é©±åŠ¨å™¨)</div>  
                        <div class="sublayer-desc">  
                            â€¢ å·®åˆ†è¾“å‡º: 800-1200 mVpp<br>  
                            â€¢ Output Swingå¯è°ƒ<br>  
                            â€¢ ç”µæ°”è§„æ ¼: <span id="tx-driver-spec">OIF-CEI-112G</span><br>  
                            â€¢ è¿æ¥: PCB Trace / Optical Module  
                        </div>  
                    </div>  

                    <div class="data-flow">  
                        <span class="data-label">è¾“å‡º:</span>  
                        <span class="data-value" id="tx-serdes-output">ç­‰å¾…å¯åŠ¨...</span>  
                    </div>  
                </div>  

                <div class="arrow">â¬‡ï¸</div>  

                <!-- PMD -->  
                <div class="layer" id="tx-pmd">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="tx-pmd-status"></span>  
                            PMD: Physical Medium Dependent  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 169.7/122.6</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ å…‰æ¨¡å—æ¥å£</div>  
                        <div class="sublayer-desc">  
                            â€¢ æ¥å£ç±»å‹: <span id="tx-optics">OSFP / QSFP-DD800</span><br>  
                            â€¢ ç”µæ°”æ¥å£: CAUI-8 (Chip-to-Module)<br>  
                            â€¢ ç®¡ç†æ¥å£: IÂ²C / MDIO<br>  
                            â€¢ å…‰åŠŸç‡ç›‘æ§: DDMI  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ ç”µ-å…‰è½¬æ¢ (E/O)</div>  
                        <div class="sublayer-desc">  
                            â€¢ æ¿€å…‰å™¨ç±»å‹: VCSEL / EML / DML<br>  
                            â€¢ æ³¢é•¿: <span id="tx-wavelength">850nm (SR) / 1310nm (DR) / DWDM</span><br>  
                            â€¢ å…‰åŠŸç‡: 0 ~ +5 dBm<br>  
                            â€¢ æ¶ˆå…‰æ¯”: > 4 dB<br>  
                            â€¢ å…‰çº¤: SMF / MMF  
                        </div>  
                    </div>  

                    <div class="info-panel">  
                        <div class="info-title">âœ… TXæµç¨‹å®Œæˆ</div>  
                        <div class="info-content">  
                            æ•°æ®å·²å®Œæˆä»MACåˆ°å…‰çº¤çš„å®Œæ•´è½¬æ¢ï¼<br>  
                            æ€»å»¶è¿Ÿ: <span id="tx-total-latency">~300-500ns</span> (èŠ¯ç‰‡å†…éƒ¨)  
                        </div>  
                    </div>  
                </div>  
            </div>  

            <!-- RXæ¥æ”¶æµç¨‹ -->  
            <div class="direction-column rx">  
                <div class="direction-title rx">ğŸ“¥ RX æ¥æ”¶æµç¨‹ (Line â†’ Host)</div>  

                <!-- PMD RX -->  
                <div class="layer" id="rx-pmd">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-pmd-status"></span>  
                            PMD: Physical Medium Dependent  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 169.7/122.6</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ å…‰-ç”µè½¬æ¢ (O/E)</div>  
                        <div class="sublayer-desc">  
                            â€¢ å…‰æ£€æµ‹å™¨: PIN-PD / APD<br>  
                            â€¢ æ¥æ”¶çµæ•åº¦: <span id="rx-sensitivity">-10 dBm (å…¸å‹)</span><br>  
                            â€¢ åŠ¨æ€èŒƒå›´: -15 ~ 0 dBm<br>  
                            â€¢ TIA (Trans-Impedance Amplifier): ç”µæµâ†’ç”µå‹<br>  
                            â€¢ LA (Limiting Amplifier): ä¿¡å·æ”¾å¤§  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Signal Detect & LOS</div>  
                        <div class="sublayer-desc">  
                            â€¢ å…‰åŠŸç‡ç›‘æ§<br>  
                            â€¢ LOS (Loss of Signal) æ£€æµ‹<br>  
                            â€¢ Signal Qualityç›‘æ§<br>  
                            â€¢ å‘Šè­¦ä¸ŠæŠ¥  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow rx">â¬†ï¸</div>  

                <!-- SerDes RX -->  
                <div class="layer" id="rx-serdes">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-serdes-status"></span>  
                            SerDes: Serializer/Deserializer RX  
                        </span>  
                        <span class="layer-standard">OIF CEI-56G/112G</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ CDR (Clock Data Recovery)</div>  
                        <div class="sublayer-desc">  
                            â€¢ æ—¶é’Ÿæ¢å¤: ä»æ•°æ®æµä¸­æå–æ—¶é’Ÿ<br>  
                            â€¢ PLLå¸¦å®½: 1-10 MHz<br>  
                            â€¢ Jitter Tolerance: > 0.1 UI<br>  
                            â€¢ Lockæ—¶é—´: < 10 ms<br>  
                            â€¢ å·¥ä½œæ¨¡å¼: First-Order / Second-Order PLL  
                        </div>  
                        <div class="code-block">  
CDR Architecture: Bang-Bang / Alexander PD<br>  
Lock Range: Â±100 ppm<br>  
Jitter Transfer: < 0.1 dB @ 10 MHz  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ PAM4 Demodulator (è§£è°ƒå™¨)</div>  
                        <div class="sublayer-desc">  
                            â€¢ 4ç”µå¹³åˆ¤å†³å™¨<br>  
                            â€¢ é˜ˆå€¼è‡ªé€‚åº”è°ƒæ•´<br>  
                            â€¢ ç¬¦å·â†’æ¯”ç‰¹æ˜ å°„ (Grayè§£ç )<br>  
                            â€¢ æ¯ç¬¦å·æ¢å¤2-bit  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Equalization (å‡è¡¡)</div>  
                        <div class="sublayer-desc">  
                            <strong>CTLE</strong> (Continuous-Time Linear Equalizer):<br>  
                            â€¢ æ¨¡æ‹ŸåŸŸè¿ç»­æ—¶é—´å‡è¡¡<br>  
                            â€¢ é«˜é¢‘æå‡: Boost = 0-20 dB<br>  
                            â€¢ Peaké¢‘ç‡å¯è°ƒ<br>  
                            <strong>DFE</strong> (Decision Feedback Equalizer):<br>  
                            â€¢ æ•°å­—åé¦ˆå‡è¡¡å™¨<br>  
                            â€¢ Tapæ•°é‡: 5-15 taps<br>  
                            â€¢ æ¶ˆé™¤ç é—´ä¸²æ‰° (ISI)<br>  
                            â€¢ è‡ªé€‚åº”LMSç®—æ³•  
                        </div>  
                        <div class="sublayer-details">  
CTLE: Zero@1GHz, Pole@10GHz, DC_Gain=0dB<br>  
DFE: h1~h5 taps, LMS adaptation  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Serial-to-Parallel Converter</div>  
                        <div class="sublayer-desc">  
                            â€¢ ä¸²è¡Œæ¯”ç‰¹æµ â†’ å¹¶è¡Œæ•°æ®<br>  
                            â€¢ ä½å®½: 128-bit/256-bit<br>  
                            â€¢ å­—å¯¹é½ (Word Alignment)<br>  
                            â€¢ æ¯Laneç‹¬ç«‹Deserializer  
                        </div>  
                    </div>  

                    <div class="data-flow">  
                        <span class="data-label">è¾“å‡º:</span>  
                        <span class="data-value" id="rx-serdes-output">ç­‰å¾…å¯åŠ¨...</span>  
                    </div>  
                </div>  

                <div class="arrow rx">â¬†ï¸</div>  

                <!-- PMA RX -->  
                <div class="layer" id="rx-pma">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-pma-status"></span>  
                            PMA: Physical Medium Attachment  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 169.6/122.5</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Lane De-skew Preparation</div>  
                        <div class="sublayer-desc">  
                            â€¢ æ£€æµ‹AM Pattern<br>  
                            â€¢ è®¡ç®—Laneé—´å»¶è¿Ÿå·®<br>  
                            â€¢ å‡†å¤‡å¯¹é½ä¿¡æ¯  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ PMA Rx Gearbox</div>  
                        <div class="sublayer-desc">  
                            â€¢ SerDesä½å®½ â†’ FECè§£ç å™¨ä½å®½<br>  
                            â€¢ æ—¶é’ŸåŸŸè½¬æ¢<br>  
                            â€¢ æ•°æ®é‡ç»„  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow rx">â¬†ï¸</div>  

                <!-- FEC RX -->  
                <div class="layer" id="rx-fec">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-fec-status"></span>  
                            FEC: Forward Error Correction  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 91/119.2/171</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Syndrome Calculation (ä¼´éšå¼è®¡ç®—)</div>  
                        <div class="sublayer-desc">  
                            â€¢ æ¥æ”¶ç å­— â†’ ä¼´éšå¼å¤šé¡¹å¼<br>  
                            â€¢ S(x) = R(x) mod g(x)<br>  
                            â€¢ æ£€æµ‹é”™è¯¯ä½ç½®<br>  
                            â€¢ è®¡ç®—å»¶è¿Ÿ: 10-20 cycles  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Error Location & Correction</div>  
                        <div class="sublayer-desc">  
                            <strong>Berlekamp-Massey / Euclideanç®—æ³•:</strong><br>  
                            â€¢ é”™è¯¯å®šä½å¤šé¡¹å¼è®¡ç®—<br>  
                            â€¢ Chien Search: æŸ¥æ‰¾é”™è¯¯ä½ç½®<br>  
                            â€¢ Forney Algorithm: è®¡ç®—é”™è¯¯å€¼<br>  
                            â€¢ çº é”™: æœ€å¤š15ä¸ªsymbolé”™è¯¯<br>  
                            <strong>UE (Uncorrectable Error) æ£€æµ‹:</strong><br>  
                            â€¢ é”™è¯¯è¶…è¿‡çº é”™èƒ½åŠ›æ—¶æ ‡è®°UE<br>  
                            â€¢ UEè®¡æ•°ä¸ŠæŠ¥è½¯ä»¶  
                        </div>  
                        <div class="code-block">  
<span id="rx-fec-detail">  
Correctable Errors: â‰¤ 15 symbols<br>  
UE Threshold: > 15 symbols<br>  
Latency: ~100-200ns<br>  
Post-FEC BER: 10â»Â¹Â² (typical)</span>  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Transcoder (FECâ†’PCS)</div>  
                        <div class="sublayer-desc">  
                            â€¢ 10-bit FEC symbols â†’ 66-bit PCS blocks<br>  
                            â€¢ Codewordæ‹†è§£<br>  
                            â€¢ ç¬¦å·è¾¹ç•Œå¯¹é½  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ FECç»Ÿè®¡</div>  
                        <div class="sublayer-desc">  
                            â€¢ Corrected Codewords<br>  
                            â€¢ Uncorrectable Codewords (UE)<br>  
                            â€¢ Symbol Error Rate<br>  
                            â€¢ Pre-FEC BER / Post-FEC BER  
                        </div>  
                    </div>  

                    <div class="data-flow">  
                        <span class="data-label">è¾“å‡º:</span>  
                        <span class="data-value" id="rx-fec-output">ç­‰å¾…å¯åŠ¨...</span>  
                    </div>  
                </div>  

                <div class="arrow rx">â¬†ï¸</div>  

                <!-- PCS RX -->  
                <div class="layer" id="rx-pcs">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-pcs-status"></span>  
                            PCS: Physical Coding Sublayer  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 82/170</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ AM Detection & Lane Alignment</div>  
                        <div class="sublayer-desc">  
                            â€¢ AM Patternè¯†åˆ«<br>  
                            â€¢ Lane IDæå–<br>  
                            â€¢ Lane LockçŠ¶æ€æœº<br>  
                            â€¢ Lockæ¡ä»¶: è¿ç»­Nä¸ªAMåŒ¹é… (N=4å…¸å‹)  
                        </div>  
                        <div class="code-block">  
AM_LOCK FSM:<br>  
INIT â†’ SEARCH â†’ LOCK â†’ ALIGNED<br>  
Lock Time: < 1ms  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Lane De-skew (å»åç§»)</div>  
                        <div class="sublayer-desc">  
                            â€¢ FIFO Depth: <span id="rx-deskew-depth">160 Ã— 128-bit (per Lane)</span><br>  
                            â€¢ æœ€å¤§åç§»: <span id="rx-max-skew">20-40 ns</span><br>  
                            â€¢ å¯¹é½ç®—æ³•: AMæ—¶é—´æˆ³å¯¹æ¯”<br>  
                            â€¢ Deskewå®Œæˆ: æ‰€æœ‰Lane AMå¯¹é½<br>  
                            â€¢ çŠ¶æ€: DESKEW_FAIL â†’ DESKEW_DONE  
                        </div>  
                        <div class="sublayer-details">  
Skew Tolerance: Â±40 UI (800G)<br>  
FIFO Control: Write on AM, Read after align  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ AM Removal (å¯¹é½æ ‡è®°åˆ é™¤)</div>  
                        <div class="sublayer-desc">  
                            â€¢ è¯†åˆ«å¹¶åˆ é™¤AMå—<br>  
                            â€¢ ä¿æŒæ•°æ®è¿ç»­æ€§<br>  
                            â€¢ Laneç¼–å·éªŒè¯  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Lane Reordering (é€šé“é‡æ’)</div>  
                        <div class="sublayer-desc">  
                            â€¢ æ ¹æ®Lane IDé‡æ’æ•°æ®<br>  
                            â€¢ æ¢å¤åŸå§‹Laneé¡ºåº<br>  
                            â€¢ è™šæ‹ŸLane â†’ ç‰©ç†Laneæ˜ å°„  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ Descrambler (è§£æ‰°ç )</div>  
                        <div class="sublayer-desc">  
                            â€¢ å¤šé¡¹å¼: G(x) = 1 + xÂ³â¹ + xâµâ¸ (ä¸TXç›¸åŒ)<br>  
                            â€¢ åŒæ­¥LFSR<br>  
                            â€¢ æ¢å¤åŸå§‹æ•°æ®<br>  
                            â€¢ Self-synchronizing  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ 64B/66Bè§£ç å™¨</div>  
                        <div class="sublayer-desc">  
                            â€¢ Sync Headeræ£€æµ‹: 01/10<br>  
                            â€¢ Block Typeè§£æ<br>  
                            â€¢ 66-bit â†’ 64-bitæ¢å¤<br>  
                            â€¢ Controlå­—ç¬¦è¯†åˆ«: IDLE, START, TERMINATE<br>  
                            â€¢ é”™è¯¯æ£€æµ‹: Invalid Block Type  
                        </div>  
                        <div class="code-block">  
Sync Loss Detection:<br>  
è¿ç»­Nä¸ªSync Error â†’ Block_Lock = 0<br>  
Invalid Block â†’ BER++  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ BIP-8 Check (Bit Interleaved Parity)</div>  
                        <div class="sublayer-desc">  
                            â€¢ å¯é€‰çš„é¢å¤–æ ¡éªŒ<br>  
                            â€¢ 8-bitå¥‡å¶æ ¡éªŒ<br>  
                            â€¢ é”™è¯¯è®¡æ•°ç»Ÿè®¡  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ PCS RX Gearbox</div>  
                        <div class="sublayer-desc">  
                            â€¢ 64-bitæ•°æ®å— â†’ CGMIIä½å®½<br>  
                            â€¢ æ•°æ®é‡ç»„<br>  
                            â€¢ æ—¶é’ŸåŸŸè½¬æ¢  
                        </div>  
                    </div>  

                    <div class="data-flow">  
                        <span class="data-label">è¾“å‡º:</span>  
                        <span class="data-value" id="rx-pcs-output">ç­‰å¾…å¯åŠ¨...</span>  
                    </div>  
                </div>  

                <div class="arrow rx">â¬†ï¸</div>  

                <!-- RS RX -->  
                <div class="layer" id="rx-rs">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-rs-status"></span>  
                            RS: Reconciliation Sublayer  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 169.3/122.3</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ æ¥å£åå‘é€‚é…</div>  
                        <div class="sublayer-desc">  
                            â€¢ PCSå†…éƒ¨æ¥å£ â†’ CGMII<br>  
                            â€¢ Laneæ•°æ®åˆå¹¶<br>  
                            â€¢ æ—¶é’ŸåŸŸæ¢å¤  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow rx">â¬†ï¸</div>  

                <!-- MAC Control RX -->  
                <div class="layer" id="rx-mac-ctrl">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-mac-ctrl-status"></span>  
                            L2: MAC Control (Optional)  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 31</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ æµæ§å¤„ç†</div>  
                        <div class="sublayer-desc">  
                            â€¢ PAUSEå¸§è§£æ<br>  
                            â€¢ PFCå¤„ç†<br>  
                            â€¢ æµæ§åå‹åˆ°TX<br>  
                            â€¢ MAC Controlå¸§è¿‡æ»¤  
                        </div>  
                    </div>  
                </div>  

                <div class="arrow rx">â¬†ï¸</div>  

                <!-- MAC RX -->  
                <div class="layer" id="rx-mac">  
                    <div class="layer-header">  
                        <span class="layer-name">  
                            <span class="status-indicator inactive" id="rx-mac-status"></span>  
                            L2: MAC Client  
                        </span>  
                        <span class="layer-standard">IEEE 802.3 Clause 1-4</span>  
                    </div>  
                    
                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ ä»¥å¤ªç½‘å¸§å¤„ç†</div>  
                        <div class="sublayer-desc">  
                            <strong>Preamble & SFDæ£€æµ‹:</strong><br>  
                            â€¢ Preamble: 7Ã—0x55 + SFD: 0xD5<br>  
                            â€¢ å¸§èµ·å§‹è¯†åˆ«<br>  
                            <strong>FCSæ ¡éªŒ:</strong><br>  
                            â€¢ CRC-32éªŒè¯<br>  
                            â€¢ é”™è¯¯å¸§ä¸¢å¼ƒæˆ–æ ‡è®°<br>  
                            <strong>å¸§è¿‡æ»¤:</strong><br>  
                            â€¢ æœ€å°å¸§é•¿æ£€æŸ¥: 64 Bytes<br>  
                            â€¢ æœ€å¤§å¸§é•¿æ£€æŸ¥: 1518/9600 Bytes<br>  
                            â€¢ åœ°å€è¿‡æ»¤: å•æ’­/ç»„æ’­/å¹¿æ’­<br>  
                            <strong>ç»Ÿè®¡è®¡æ•°:</strong><br>  
                            â€¢ Good Frames / Bad Frames<br>  
                            â€¢ Undersize / Oversize / Jabber<br>  
                            â€¢ CRC Error / Alignment Error  
                        </div>  
                        <div class="code-block">  
Frame Format:<br>  
[Preamble:7B][SFD:1B][DA:6B][SA:6B]<br>  
[Type/Len:2B][Data:46-1500B][FCS:4B]  
                        </div>  
                    </div>  

                    <div class="sublayer">  
                        <div class="sublayer-name">ğŸ”¸ æ•°æ®ä¸Šé€</div>  
                        <div class="sublayer-desc">  
                            â€¢ å¸§å®Œæ•´æ€§ç¡®è®¤<br>  
                            â€¢ FIFOç¼“å­˜<br>  
                            â€¢ ä¸Šé€Hostå¤„ç†<br>  
                            â€¢ é€Ÿç‡: <span id="rx-mac-rate">800 Gbps</span>  
                        </div>  
                    </div>  

                    <div class="data-flow">  
                        <span class="data-label">è¾“å‡º:</span>  
                        <span class="data-value" id="rx-mac-output">ç­‰å¾…å¯åŠ¨...</span>  
                    </div>  

                    <div class="info-panel" style="background: #d1f2eb; border-color: #27ae60;">  
                        <div class="info-title" style="color: #145a32;">âœ… RXæµç¨‹å®Œæˆ</div>  
                        <div class="info-content" style="color: #145a32;">  
                            æ•°æ®å·²å®Œæˆä»å…‰çº¤åˆ°MACçš„å®Œæ•´æ¥æ”¶ï¼<br>  
                            æ€»å»¶è¿Ÿ: <span id="rx-total-latency">~400-600ns</span> (èŠ¯ç‰‡å†…éƒ¨)<br>  
                            å¸§å®Œæ•´æ€§éªŒè¯é€šè¿‡ï¼Œå¯ä¸Šé€ä¸Šå±‚åè®®æ ˆå¤„ç†  
                        </div>  
                    </div>  
                </div>  
            </div>  
        </div>  

        <!-- å›¾ä¾‹ -->  
        <div class="legend">  
            <div class="legend-item">  
                <div class="legend-color" style="background: linear-gradient(135deg, #27ae60, #2ecc71);"></div>  
                <span>TXå‘é€è·¯å¾„</span>  
            </div>  
            <div class="legend-item">  
                <div class="legend-color" style="background: linear-gradient(135deg, #3498db, #5dade2);"></div>  
                <span>RXæ¥æ”¶è·¯å¾„</span>  
            </div>  
            <div class="legend-item">  
                <div class="legend-color" style="background: linear-gradient(135deg, #f39c12, #e67e22);"></div>  
                <span>å½“å‰å¤„ç†æ¨¡å—</span>  
            </div>  
            <div class="legend-item">  
                <div class="status-indicator active"></div>  
                <span>æ¨¡å—å·¥ä½œä¸­</span>  
            </div>  
            <div class="legend-item">  
                <div class="status-indicator inactive"></div>  
                <span>æ¨¡å—æœªæ¿€æ´»</span>  
            </div>  
        </div>  
    </div>  

    <!-- è¯¦ç»†è§„æ ¼Modal -->  
    <div id="detailModal" class="modal">  
        <div class="modal-content">  
            <span class="close" onclick="closeModal()">&times;</span>  
            <h2 style="color: #2c3e50; margin-bottom: 20px;">ğŸ“Š 800G/400G è¯¦ç»†æŠ€æœ¯è§„æ ¼</h2>  
            
            <div class="tabs">  
                <div class="tab active" onclick="switchTab('spec')">æŠ€æœ¯è§„æ ¼å¯¹æ¯”</div>
				                <div class="tab" onclick="switchTab('timing')">æ—¶åºä¸å»¶è¿Ÿ</div>
                <div class="tab" onclick="switchTab('signal')">ä¿¡å·è´¨é‡è¦æ±‚</div>
                <div class="tab" onclick="switchTab('power')">åŠŸè€—åˆ†æ</div>
            </div>

            <div id="tab-spec" class="tab-content active">
                <h3 style="color: #3498db; margin: 20px 0 10px;">800G vs 400G æŠ€æœ¯å‚æ•°å¯¹æ¯”</h3>
                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>å‚æ•°</th>
                            <th>800GbE (IEEE 802.3df)</th>
                            <th>400GbE (IEEE 802.3bs)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>æ€»é€Ÿç‡</strong></td>
                            <td>800 Gbps</td>
                            <td>400 Gbps</td>
                        </tr>
                        <tr>
                            <td><strong>Laneæ•°é‡</strong></td>
                            <td>8 Lanes (Physical)</td>
                            <td>8 Lanes (Physical)</td>
                        </tr>
                        <tr>
                            <td><strong>æ¯Laneé€Ÿç‡</strong></td>
                            <td>100 Gbps</td>
                            <td>50 Gbps</td>
                        </tr>
                        <tr>
                            <td><strong>SerDesé€Ÿç‡</strong></td>
                            <td>106.25 Gbaud (PAM4)</td>
                            <td>53.125 Gbaud (PAM4)</td>
                        </tr>
                        <tr>
                            <td><strong>è°ƒåˆ¶æ–¹å¼</strong></td>
                            <td>PAM4 (4-level)</td>
                            <td>PAM4 (4-level)</td>
                        </tr>
                        <tr>
                            <td><strong>ç¼–ç æ–¹å¼</strong></td>
                            <td>64B/66B</td>
                            <td>64B/66B</td>
                        </tr>
                        <tr>
                            <td><strong>FECç±»å‹</strong></td>
                            <td>RS(544,514) KP4</td>
                            <td>RS(544,514) KP4</td>
                        </tr>
                        <tr>
                            <td><strong>FECç¼–ç ç‡</strong></td>
                            <td>94.49%</td>
                            <td>94.49%</td>
                        </tr>
                        <tr>
                            <td><strong>FECçº é”™èƒ½åŠ›</strong></td>
                            <td>15 symbols</td>
                            <td>15 symbols</td>
                        </tr>
                        <tr>
                            <td><strong>Pre-FEC BER</strong></td>
                            <td>â‰¤ 5Ã—10â»âµ</td>
                            <td>â‰¤ 5Ã—10â»âµ</td>
                        </tr>
                        <tr>
                            <td><strong>Post-FEC BER</strong></td>
                            <td>â‰¤ 10â»Â¹Â²</td>
                            <td>â‰¤ 10â»Â¹Â²</td>
                        </tr>
                        <tr>
                            <td><strong>AMé—´éš”</strong></td>
                            <td>16383 blocks (~21Î¼s)</td>
                            <td>16383 blocks (~42Î¼s)</td>
                        </tr>
                        <tr>
                            <td><strong>CGMIIå®½åº¦</strong></td>
                            <td>32 lanes Ã— 64-bit</td>
                            <td>16 lanes Ã— 64-bit</td>
                        </tr>
                        <tr>
                            <td><strong>CGMIIæ—¶é’Ÿ</strong></td>
                            <td>781.25 MHz</td>
                            <td>390.625 MHz</td>
                        </tr>
                        <tr>
                            <td><strong>å…‰æ¨¡å—ç±»å‹</strong></td>
                            <td>OSFP / QSFP-DD800</td>
                            <td>QSFP-DD / OSFP</td>
                        </tr>
                        <tr>
                            <td><strong>ç”µæ°”æ¥å£</strong></td>
                            <td>CAUI-8 (CEI-112G)</td>
                            <td>CAUI-8 (CEI-56G)</td>
                        </tr>
                        <tr>
                            <td><strong>å…¸å‹åŠŸè€—</strong></td>
                            <td>15-25W (èŠ¯ç‰‡PHYéƒ¨åˆ†)</td>
                            <td>8-15W (èŠ¯ç‰‡PHYéƒ¨åˆ†)</td>
                        </tr>
                        <tr>
                            <td><strong>å…¸å‹ä¼ è¾“è·ç¦»</strong></td>
                            <td>100m (SR8) / 2km (DR8) / 10km (FR8)</td>
                            <td>100m (SR8) / 2km (DR4) / 10km (FR4)</td>
                        </tr>
                    </tbody>
                </table>

                <h3 style="color: #3498db; margin: 30px 0 10px;">Laneé…ç½®æ–¹æ¡ˆ</h3>
                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>é…ç½®</th>
                            <th>800Gé€‰é¡¹</th>
                            <th>400Gé€‰é¡¹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>800GBASE-R8</strong></td>
                            <td>8 Ã— 100G (æ ‡å‡†)</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><strong>400GBASE-R8</strong></td>
                            <td>-</td>
                            <td>8 Ã— 50G (æ ‡å‡†)</td>
                        </tr>
                        <tr>
                            <td><strong>400GBASE-R4</strong></td>
                            <td>-</td>
                            <td>4 Ã— 100G (å¤‡é€‰)</td>
                        </tr>
                        <tr>
                            <td><strong>SR8/DR8/FR8</strong></td>
                            <td>Short/Medium/Long Reach</td>
                            <td>Short/Medium/Long Reach</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="tab-timing" class="tab-content">
                <h3 style="color: #3498db; margin: 20px 0 10px;">æ—¶åºä¸å»¶è¿Ÿåˆ†æ</h3>
                
                <h4 style="color: #34495e; margin: 15px 0 10px;">TXè·¯å¾„å»¶è¿Ÿ (800Gå…¸å‹å€¼)</h4>
                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>æ¨¡å—</th>
                            <th>å»¶è¿Ÿ</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>MAC Processing</td>
                            <td>20-40 ns</td>
                            <td>å¸§å°è£…ã€FCSè®¡ç®—</td>
                        </tr>
                        <tr>
                            <td>PCS 64B/66B Encoding</td>
                            <td>10-20 ns</td>
                            <td>ç¼–ç ã€æ‰°ç ã€AMæ’å…¥</td>
                        </tr>
                        <tr>
                            <td>FEC Encoding</td>
                            <td>50-100 ns</td>
                            <td>RS(544,514)ç¼–ç </td>
                        </tr>
                        <tr>
                            <td>PMA Gearbox</td>
                            <td>10-20 ns</td>
                            <td>ä½å®½è½¬æ¢</td>
                        </tr>
                        <tr>
                            <td>SerDes TX</td>
                            <td>50-100 ns</td>
                            <td>ä¸²è¡ŒåŒ–ã€PAM4è°ƒåˆ¶</td>
                        </tr>
                        <tr>
                            <td><strong>æ€»å»¶è¿Ÿ (TX)</strong></td>
                            <td><strong>140-280 ns</strong></td>
                            <td><strong>èŠ¯ç‰‡å†…éƒ¨</strong></td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">RXè·¯å¾„å»¶è¿Ÿ (800Gå…¸å‹å€¼)</h4>
                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>æ¨¡å—</th>
                            <th>å»¶è¿Ÿ</th>
                            <th>è¯´æ˜</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>SerDes RX (CDR Lock)</td>
                            <td>< 10 ms</td>
                            <td>åˆå§‹é”å®šæ—¶é—´</td>
                        </tr>
                        <tr>
                            <td>SerDes RX Processing</td>
                            <td>80-150 ns</td>
                            <td>CDRã€è§£è°ƒã€å‡è¡¡</td>
                        </tr>
                        <tr>
                            <td>PMA De-skew</td>
                            <td>20-40 ns</td>
                            <td>Laneå¯¹é½ (æœ€å¤§åç§»è¡¥å¿)</td>
                        </tr>
                        <tr>
                            <td>FEC Decoding</td>
                            <td>100-200 ns</td>
                            <td>ä¼´éšå¼è®¡ç®—ã€çº é”™</td>
                        </tr>
                        <tr>
                            <td>PCS Decoding</td>
                            <td>20-40 ns</td>
                            <td>è§£æ‰°ã€64B/66Bè§£ç </td>
                        </tr>
                        <tr>
                            <td>MAC Processing</td>
                            <td>30-50 ns</td>
                            <td>FCSæ ¡éªŒã€è¿‡æ»¤</td>
                        </tr>
                        <tr>
                            <td><strong>æ€»å»¶è¿Ÿ (RX)</strong></td>
                            <td><strong>250-480 ns</strong></td>
                            <td><strong>èŠ¯ç‰‡å†…éƒ¨</strong></td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">ç«¯åˆ°ç«¯å»¶è¿Ÿ (Round-Trip)</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>èŠ¯ç‰‡å†…éƒ¨æ€»å»¶è¿Ÿ</strong></td>
                            <td>390-760 ns</td>
                            <td>TX + RX</td>
                        </tr>
                        <tr>
                            <td><strong>å…‰æ¨¡å—å»¶è¿Ÿ</strong></td>
                            <td>50-100 ns</td>
                            <td>E/O + O/Eè½¬æ¢</td>
                        </tr>
                        <tr>
                            <td><strong>å…‰çº¤ä¼ è¾“å»¶è¿Ÿ</strong></td>
                            <td>5 ns/m</td>
                            <td>SMF: ~5Î¼s/km</td>
                        </tr>
                        <tr>
                            <td><strong>100mé“¾è·¯æ€»å»¶è¿Ÿ</strong></td>
                            <td>~1 Î¼s</td>
                            <td>å•å‘</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">å…³é”®æ—¶åºå‚æ•°</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>AM Lockæ—¶é—´</strong></td>
                            <td>< 1 ms</td>
                            <td>è¿ç»­4ä¸ªAMåŒ¹é…</td>
                        </tr>
                        <tr>
                            <td><strong>Deskewçª—å£</strong></td>
                            <td>Â±20-40 ns</td>
                            <td>æœ€å¤§Laneé—´åç§»</td>
                        </tr>
                        <tr>
                            <td><strong>FEC Latency</strong></td>
                            <td>150-300 ns</td>
                            <td>Encode + Decode</td>
                        </tr>
                        <tr>
                            <td><strong>CDR Lock Range</strong></td>
                            <td>Â±100 ppm</td>
                            <td>æ—¶é’Ÿå®¹å·®</td>
                        </tr>
                        <tr>
                            <td><strong>Link Upæ—¶é—´</strong></td>
                            <td>< 100 ms</td>
                            <td>å®Œæ•´é“¾è·¯å»ºç«‹</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="tab-signal" class="tab-content">
                <h3 style="color: #3498db; margin: 20px 0 10px;">ä¿¡å·è´¨é‡è¦æ±‚</h3>

                <h4 style="color: #34495e; margin: 15px 0 10px;">SerDes TX ç”µæ°”è§„æ ¼</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>å·®åˆ†è¾“å‡ºæ‘†å¹…</strong></td>
                            <td>800-1200 mVpp</td>
                            <td>å¯è°ƒ</td>
                        </tr>
                        <tr>
                            <td><strong>PAM4ç”µå¹³æ•°</strong></td>
                            <td>4 levels</td>
                            <td>-3, -1, +1, +3</td>
                        </tr>
                        <tr>
                            <td><strong>ç”µå¹³çº¿æ€§åº¦</strong></td>
                            <td>Â± 5%</td>
                            <td>ç”µå¹³é—´éš”å‡åŒ€æ€§</td>
                        </tr>
                        <tr>
                            <td><strong>Rise/Fall Time</strong></td>
                            <td>8-12 ps</td>
                            <td>20%-80%</td>
                        </tr>
                        <tr>
                            <td><strong>Total Jitter (TJ)</strong></td>
                            <td>< 0.30 UI</td>
                            <td>@ BER 1e-12</td>
                        </tr>
                        <tr>
                            <td><strong>Random Jitter (RJ)</strong></td>
                            <td>< 0.01 UI RMS</td>
                            <td>é«˜æ–¯åˆ†å¸ƒ</td>
                        </tr>
                        <tr>
                            <td><strong>Deterministic Jitter</strong></td>
                            <td>< 0.20 UI pp</td>
                            <td>å‘¨æœŸæ€§æŠ–åŠ¨</td>
                        </tr>
                        <tr>
                            <td><strong>TX Equalization</strong></td>
                            <td>3-5 Tap FFE</td>
                            <td>å¯é…ç³»æ•°</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">SerDes RX ç”µæ°”è§„æ ¼</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>è¾“å…¥çµæ•åº¦</strong></td>
                            <td>50-200 mVpp</td>
                            <td>æœ€å°å¯æ£€æµ‹ä¿¡å·</td>
                        </tr>
                        <tr>
                            <td><strong>è¾“å…¥åŠ¨æ€èŒƒå›´</strong></td>
                            <td>50-1200 mVpp</td>
                            <td>å·¥ä½œèŒƒå›´</td>
                        </tr>
                        <tr>
                            <td><strong>CTLE Gain</strong></td>
                            <td>0-20 dB</td>
                            <td>å¯è°ƒé«˜é¢‘æå‡</td>
                        </tr>
                        <tr>
                            <td><strong>CTLE Peaking Freq</strong></td>
                            <td>10-30 GHz</td>
                            <td>å³°å€¼é¢‘ç‡å¯è°ƒ</td>
                        </tr>
                        <tr>
                            <td><strong>DFE Taps</strong></td>
                            <td>5-15 taps</td>
                            <td>è‡ªé€‚åº”å‡è¡¡</td>
                        </tr>
                        <tr>
                            <td><strong>CDR Jitter Tolerance</strong></td>
                            <td>> 0.15 UI</td>
                            <td>@ 10 MHz</td>
                        </tr>
                        <tr>
                            <td><strong>CDR Lock Range</strong></td>
                            <td>Â±100 ppm</td>
                            <td>é¢‘ç‡å®¹å·®</td>
                        </tr>
                        <tr>
                            <td><strong>CDR Lock Time</strong></td>
                            <td>< 10 ms</td>
                            <td>åˆå§‹é”å®š</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">ä¿¡é“æŸè€—è¦æ±‚</h4>
                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>é¢‘ç‡</th>
                            <th>æœ€å¤§æ’æŸ (800G)</th>
                            <th>æœ€å¤§æ’æŸ (400G)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>DC - 1 GHz</td>
                            <td>-3 dB</td>
                            <td>-3 dB</td>
                        </tr>
                        <tr>
                            <td>26.5625 GHz (Nyquist)</td>
                            <td>-28 dB</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td>13.28 GHz (Nyquist)</td>
                            <td>-</td>
                            <td>-20 dB</td>
                        </tr>
                        <tr>
                            <td>53.125 GHz</td>
                            <td>-35 dB</td>
                            <td>-28 dB</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">çœ¼å›¾è¦æ±‚</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>Eye Height (EH)</strong></td>
                            <td>> 20 mV</td>
                            <td>æ¯ä¸ªçœ¼</td>
                        </tr>
                        <tr>
                            <td><strong>Eye Width (EW)</strong></td>
                            <td>> 0.35 UI</td>
                            <td>@ BER 1e-5</td>
                        </tr>
                        <tr>
                            <td><strong>PAM4 Eye Ratio</strong></td>
                            <td>0.8 - 1.2</td>
                            <td>ä¸Šä¸­ä¸‹çœ¼é«˜åº¦æ¯”</td>
                        </tr>
                        <tr>
                            <td><strong>SECQ (Signal Quality)</strong></td>
                            <td>> 3.5 dB</td>
                            <td>ä¿¡å™ªæ¯”è¦æ±‚</td>
                        </tr>
                        <tr>
                            <td><strong>TDECQ</strong></td>
                            <td>< 3.5 dB</td>
                            <td>å‘é€ç«¯å‡è¡¡è´¨é‡</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="tab-power" class="tab-content">
                <h3 style="color: #3498db; margin: 20px 0 10px;">åŠŸè€—åˆ†æ</h3>

                <h4 style="color: #34495e; margin: 15px 0 10px;">800G PHYæ¨¡å—åŠŸè€—åˆ†è§£</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>SerDes TX (8 Lanes)</strong></td>
                            <td>6-10 W</td>
                            <td>Driver + FFE</td>
                        </tr>
                        <tr>
                            <td><strong>SerDes RX (8 Lanes)</strong></td>
                            <td>7-12 W</td>
                            <td>CDR + CTLE + DFE</td>
                        </tr>
                        <tr>
                            <td><strong>PCS (ç¼–è§£ç )</strong></td>
                            <td>1-2 W</td>
                            <td>64B/66B + Scrambler</td>
                        </tr>
                        <tr>
                            <td><strong>FEC Engine</strong></td>
                            <td>1.5-3 W</td>
                            <td>RSç¼–è§£ç å™¨</td>
                        </tr>
                        <tr>
                            <td><strong>PMA (Gearbox)</strong></td>
                            <td>0.5-1 W</td>
                            <td>ä½å®½è½¬æ¢</td>
                        </tr>
                        <tr>
                            <td><strong>æ—¶é’Ÿæ ‘ (PLL/CMU)</strong></td>
                            <td>1-2 W</td>
                            <td>æ—¶é’Ÿç”Ÿæˆä¸åˆ†å‘</td>
                        </tr>
                        <tr>
                            <td><strong>æ€»åŠŸè€— (PHY)</strong></td>
                            <td><strong>17-30 W</strong></td>
                            <td><strong>å•ç«¯å£</strong></td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">400G PHYæ¨¡å—åŠŸè€—åˆ†è§£</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>SerDes TX (8 Lanes)</strong></td>
                            <td>3-5 W</td>
                            <td>@53.125G</td>
                        </tr>
                        <tr>
                            <td><strong>SerDes RX (8 Lanes)</strong></td>
                            <td>4-7 W</td>
                            <td>@53.125G</td>
                        </tr>
                        <tr>
                            <td><strong>PCS + FEC</strong></td>
                            <td>1.5-2.5 W</td>
                            <td>ç¼–è§£ç </td>
                        </tr>
                        <tr>
                            <td><strong>å…¶ä»–(PMA/CLK)</strong></td>
                            <td>1-2 W</td>
                            <td>è¾…åŠ©ç”µè·¯</td>
                        </tr>
                        <tr>
                            <td><strong>æ€»åŠŸè€— (PHY)</strong></td>
                            <td><strong>9.5-16.5 W</strong></td>
                            <td><strong>å•ç«¯å£</strong></td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">å…‰æ¨¡å—åŠŸè€—</h4>
                <table class="specs-table">
                    <tbody>
                        <tr>
                            <td><strong>800G OSFP</strong></td>
                            <td>15-25 W</td>
                            <td>å«DSP + Laser</td>
                        </tr>
                        <tr>
                            <td><strong>800G QSFP-DD</strong></td>
                            <td>12-20 W</td>
                            <td>é«˜å¯†åº¦å°è£…</td>
                        </tr>
                        <tr>
                            <td><strong>400G OSFP</strong></td>
                            <td>10-15 W</td>
                            <td>æ ‡å‡†é…ç½®</td>
                        </tr>
                        <tr>
                            <td><strong>400G QSFP-DD</strong></td>
                            <td>8-12 W</td>
                            <td>å¸¸è§æ–¹æ¡ˆ</td>
                        </tr>
                    </tbody>
                </table>

                <h4 style="color: #34495e; margin: 25px 0 10px;">èƒ½æ•ˆå¯¹æ¯”</h4>
                <table class="specs-table">
                    <thead>
                        <tr>
                            <th>æŒ‡æ ‡</th>
                            <th>800G</th>
                            <th>400G</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>pJ/bit (PHY)</strong></td>
                            <td>21-37 pJ/bit</td>
                            <td>24-41 pJ/bit</td>
                        </tr>
                        <tr>
                            <td><strong>pJ/bit (å«å…‰æ¨¡å—)</strong></td>
                            <td>40-62 pJ/bit</td>
                            <td>45-68 pJ/bit</td>
                        </tr>
                        <tr>
                            <td><strong>å•LaneåŠŸè€—</strong></td>
                            <td>2.1-3.8 W/Lane</td>
                            <td>1.2-2.1 W/Lane</td>
                        </tr>
                    </tbody>
                </table>

                <div style="background: #e8f4f8; padding: 15px; border-radius: 8px; margin-top: 20px;">
                    <h4 style="color: #2980b9; margin-bottom: 10px;">ğŸ’¡ åŠŸè€—ä¼˜åŒ–æŠ€æœ¯</h4>
                    <ul style="color: #34495e; font-size: 13px; line-height: 1.8;">
                        <li><strong>åŠ¨æ€åŠŸè€—ç®¡ç†:</strong> Idle Lane Power Down</li>
                        <li><strong>è‡ªé€‚åº”å‡è¡¡:</strong> æ ¹æ®ä¿¡é“è´¨é‡è°ƒæ•´DFE Tapæ•°</li>
                        <li><strong>æ—¶é’Ÿé—¨æ§:</strong> æœªä½¿ç”¨æ¨¡å—æ—¶é’Ÿå…³æ–­</li>
                        <li><strong>ç”µå‹åŸŸä¼˜åŒ–:</strong> å¤šç”µå‹åŸŸè®¾è®¡ (0.9V/1.0V/1.2V)</li>
                        <li><strong>å…ˆè¿›å·¥è‰º:</strong> 7nm/5nm FinFETé™ä½åŠŸè€—</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentSpeed = '800G';
        let txActive = false;
        let rxActive = false;
        let animationTimer = null;

        // é€Ÿç‡é…ç½®
        const speedConfigs = {
            '800G': {
                macRate: '800 Gbps',
                lanes: '8 Lanes Ã— 100G',
                baudRate: '106.25 Gbaud/Lane',
                cgmiiClock: '781.25 MHz',
                amInterval: '16383 blocks (~21Î¼s)',
                fecAlgo: 'RS(544, 514) Reed-Solomon',
                pamType: 'PAM4 (4-level)',
                optics: 'OSFP / QSFP-DD800',
                wavelength: '850nm (SR8) / 1310nm (DR8)',
                driverSpec: 'OIF-CEI-112G',
                deskewDepth: '160 Ã— 128-bit (per Lane)',
                maxSkew: '20-40 ns',
                sensitivity: '-10 dBm (å…¸å‹)',
                txLatency: '~300-500ns',
                rxLatency: '~400-600ns',
                serdesDetail: '800G: 8 Lanes Ã— 106.25 Gbaud Ã— 2 bit/symbol = 800G\nPAM4 Levels: {-3Ïƒ, -Ïƒ, +Ïƒ, +3Ïƒ}',
                fecDetail: 'RS(544,514) Galois Field: GF(2Â¹â°)\nGenerator Polynomial: g(x) = Î (x - Î±^i), i=0..29\nCodeword = [Data:514 | Parity:30]\nLatency: ~50-100ns',
                rxFecDetail: 'Correctable Errors: â‰¤ 15 symbols\nUE Threshold: > 15 symbols\nLatency: ~100-200ns\nPost-FEC BER: 10â»Â¹Â² (typical)'
            },
            '400G': {
                macRate: '400 Gbps',
                lanes: '8 Lanes Ã— 50G',
                baudRate: '53.125 Gbaud/Lane',
                cgmiiClock: '390.625 MHz',
                amInterval: '16383 blocks (~42Î¼s)',
                fecAlgo: 'RS(544, 514) Reed-Solomon',
                pamType: 'PAM4 (4-level)',
                optics: 'QSFP-DD / OSFP',
                wavelength: '850nm (SR8) / 1310nm (DR4)',
                driverSpec: 'OIF-CEI-56G',
                deskewDepth: '160 Ã— 128-bit (per Lane)',
                maxSkew: '40-80 ns',
                sensitivity: '-8 dBm (å…¸å‹)',
                txLatency: '~250-400ns',
                rxLatency: '~300-500ns',
                serdesDetail: '400G: 8 Lanes Ã— 53.125 Gbaud Ã— 2 bit/symbol = 400G\nPAM4 Levels: {-3Ïƒ, -Ïƒ, +Ïƒ, +3Ïƒ}',
                fecDetail: 'RS(544,514) Galois Field: GF(2Â¹â°)\nGenerator Polynomial: g(x) = Î (x - Î±^i), i=0..29\nCodeword = [Data:514 | Parity:30]\nLatency: ~40-80ns',
                rxFecDetail: 'Correctable Errors: â‰¤ 15 symbols\nUE Threshold: > 15 symbols\nLatency: ~80-160ns\nPost-FEC BER: 10â»Â¹Â² (typical)'
            }
        };

        // é€‰æ‹©é€Ÿç‡
        function selectSpeed(speed) {
            currentSpeed = speed;
            const btns = document.querySelectorAll('.speed-btn');
            btns.forEach(btn => {
                if (btn.textContent.includes(speed)) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });

            updateSpeedParams();
            resetFlow();
        }

        // æ›´æ–°é€Ÿç‡å‚æ•°
        function updateSpeedParams() {
            const config = speedConfigs[currentSpeed];
            
            // æ›´æ–°æ‰€æœ‰é€Ÿç‡ç›¸å…³æ˜¾ç¤º
            const elements = [
                'tx-mac-rate', 'tx-rs-lanes', 'tx-am-interval', 'tx-lane-dist',
                'tx-fec-algo', 'tx-pam-type', 'tx-baud-rate', 'tx-optics',
                'tx-wavelength', 'tx-driver-spec', 'tx-total-latency',
                'tx-serdes-detail', 'tx-fec-detail',
                'rx-sensitivity', 'rx-deskew-depth', 'rx-max-skew',
                'rx-mac-rate', 'rx-total-latency', 'rx-fec-detail'
            ];

            elements.forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    const key = id.replace('tx-', '').replace('rx-', '').replace(/-/g, '');
                    const configKey = Object.keys(config).find(k => 
                        k.toLowerCase().replace(/_/g, '') === key.toLowerCase()
                    );
                    if (configKey) {
                        el.textContent = config[configKey];
                    }
                }
            });
        }

        // å¯åŠ¨TXæµç¨‹
        function startTxFlow() {
            resetFlow();
            txActive = true;

            const txLayers = [
                'tx-mac', 'tx-mac-ctrl', 'tx-rs', 'tx-pcs', 
                'tx-fec', 'tx-pma', 'tx-serdes', 'tx-pmd'
            ];

            txLayers.forEach((layer, index) => {
                setTimeout(() => {
                    activateLayer(layer);
                    updateLayerOutput(layer);
                    createPacket(layer);
                }, index * 800);
            });
        }

        // å¯åŠ¨RXæµç¨‹
        function startRxFlow() {
            resetFlow();
            rxActive = true;

            const rxLayers = [
                'rx-pmd', 'rx-serdes', 'rx-pma', 'rx-fec',
                'rx-pcs', 'rx-rs', 'rx-mac-ctrl', 'rx-mac'
            ];

            rxLayers.forEach((layer, index) => {
                setTimeout(() => {
                    activateLayer(layer);
                    updateLayerOutput(layer);
                    createPacket(layer);
                }, index * 800);
            });
        }

        // æ¿€æ´»å±‚
        function activateLayer(layerId) {
            const layer = document.getElementById(layerId);
            const status = document.getElementById(layerId + '-status');
            
            if (layer) {
                layer.classList.add('active');
                layer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            
            if (status) {
                status.classList.remove('inactive');
                status.classList.add('active');
            }
        }

        // æ›´æ–°å±‚è¾“å‡ºä¿¡æ¯
        function updateLayerOutput(layerId) {
            const outputId = layerId + '-output';
            const outputEl = document.getElementById(outputId);
            
            if (!outputEl) return;

            const outputs = {
                'tx-mac': `Ethernet Frame: 64-1518B, FCS=0x${Math.random().toString(16).substr(2, 8).toUpperCase()}`,
                'tx-pcs': `${currentSpeed === '800G' ? '8' : '8'} Virtual Lanes, 66-bit blocks with AM markers`,
                'tx-fec': `RS(544,514) Codewords, Post-FEC BER â‰¤ 10â»Â¹Â²`,
                'tx-serdes': `${currentSpeed === '800G' ? '8Ã—106.25' : '8Ã—53.125'} Gbaud PAM4 signals`,
                'rx-serdes': `Recovered ${currentSpeed === '800G' ? '8Ã—106.25' : '8Ã—53.125'} Gbaud PAM4, CDR Locked`,
                'rx-fec': `FEC Decoded, Corrected errors: ${Math.floor(Math.random() * 5)}`,
                'rx-pcs': `64B/66B Decoded, All lanes aligned`,
                'rx-mac': `Frame received, FCS OK, Length: ${64 + Math.floor(Math.random() * 1454)}B`
            };

            if (outputs[layerId]) {
                outputEl.textContent = outputs[layerId];
                outputEl.style.background = '#d4edda';
                outputEl.style.color = '#155724';
                
                // æ·»åŠ è¿›åº¦æ¡
                const progress = outputEl.nextElementSibling;
                if (!progress || !progress.classList.contains('progress-bar')) {
                    const progressBar = document.createElement('div');
                    progressBar.className = 'progress-bar';
                    progressBar.innerHTML = '<div class="progress-fill"></div>';
                    outputEl.parentNode.appendChild(progressBar);
                    
                    setTimeout(() => {
                        progressBar.querySelector('.progress-fill').style.width = '100%';
                    }, 50);
                }
            }
        }

        // åˆ›å»ºæ•°æ®åŒ…åŠ¨ç”»
        function createPacket(layerId) {
            const layer = document.getElementById(layerId);
            if (!layer) return;

            const packet = document.createElement('div');
            packet.className = 'packet';
            packet.textContent = 'ğŸ“¦';
            
            layer.style.position = 'relative';
            layer.appendChild(packet);

            setTimeout(() => {
                packet.style.transition = 'all 0.6s ease';
                packet.style.left = 'calc(100% - 50px)';
                packet.style.opacity = '0';
            }, 100);

            setTimeout(() => {
                packet.remove();
            }, 700);
        }

        // é‡ç½®æµç¨‹
        function resetFlow() {
            txActive = false;
            rxActive = false;

            if (animationTimer) {
                clearTimeout(animationTimer);
            }

            // é‡ç½®æ‰€æœ‰å±‚
            const allLayers = document.querySelectorAll('.layer');
            allLayers.forEach(layer => {
                layer.classList.remove('active');
            });

            const allStatus = document.querySelectorAll('.status-indicator');
            allStatus.forEach(status => {
                status.classList.remove('active');
                status.classList.add('inactive');
            });

            const allOutputs = document.querySelectorAll('.data-value');
            allOutputs.forEach(output => {
                output.textContent = 'ç­‰å¾…å¯åŠ¨...';
                output.style.background = 'white';
                output.style.color = '#2c3e50';
            });

            // åˆ é™¤æ‰€æœ‰æ•°æ®åŒ…
            document.querySelectorAll('.packet').forEach(p => p.remove());
            
            // åˆ é™¤æ‰€æœ‰è¿›åº¦æ¡
            document.querySelectorAll('.progress-bar').forEach(p => p.remove());
        }

        // Modalæ§åˆ¶
        function showDetailModal() {
            document.getElementById('detailModal').style.display = 'block';
        }

        function closeModal() {
            document.getElementById('detailModal').style.display = 'none';
        }

        function switchTab(tabName) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => {
                if (tab.textContent.includes('æŠ€æœ¯è§„æ ¼') && tabName === 'spec') {
                    tab.classList.add('active');
                } else if (tab.textContent.includes('æ—¶åº') && tabName === 'timing') {
                    tab.classList.add('active');
                } else if (tab.textContent.includes('ä¿¡å·') && tabName === 'signal') {
                    tab.classList.add('active');
                } else if (tab.textContent.includes('åŠŸè€—') && tabName === 'power') {
                    tab.classList.add('active');
                } else {
                    tab.classList.remove('active');
                }
            });

            contents.forEach(content => {
                if (content.id === 'tab-' + tabName) {
                    content.classList.add('active');
                } else {
                    content.classList.remove('active');
                }
            });
        }

        // ç‚¹å‡»Modalå¤–éƒ¨å…³é—­
        window.onclick = function(event) {
            const modal = document.getElementById('detailModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            switch(e.key) {
                case '1':
                    selectSpeed('800G');
                    break;
                case '2':
                    selectSpeed('400G');
                    break;
                case 't':
                case 'T':
                    startTxFlow();
                    break;
                case 'r':
                case 'R':
                    startRxFlow();
                    break;
                case 'Escape':
                    resetFlow();
                    closeModal();
                    break;
                case 'd':
                case 'D':
                    showDetailModal();
                    break;
            }
        });

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateSpeedParams();

            // æ·»åŠ ä½¿ç”¨æç¤º
            setTimeout(() => {
                const hint = document.createElement('div');
                hint.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    background: rgba(52, 152, 219, 0.95);
                    color: white;
                    padding: 20px;
                    border-radius: 12px;
                    box-shadow: 0 8px 25px rgba(0,0,0,0.3);
                    z-index: 1000;
                    font-size: 14px;
                    max-width: 320px;
                    line-height: 1.8;
                    animation: slideIn 0.5s ease;
                `;
                hint.innerHTML = `
                    <strong style="font-size: 16px;">ğŸ’¡ å¿«æ·é”®æç¤º</strong><br><br>
                    <kbd style="background: white; color: #3498db; padding: 2px 8px; border-radius: 3px;">1</kbd> / <kbd style="background: white; color: #3498db; padding: 2px 8px; border-radius: 3px;">2</kbd> - åˆ‡æ¢800G/400G<br>
                    <kbd style="background: white; color: #3498db; padding: 2px 8px; border-radius: 3px;">T</kbd> - å¯åŠ¨TXå‘é€æµç¨‹<br>
                    <kbd style="background: white; color: #3498db; padding: 2px 8px; border-radius: 3px;">R</kbd> - å¯åŠ¨RXæ¥æ”¶æµç¨‹<br>
                    <kbd style="background: white; color: #3498db; padding: 2px 8px; border-radius: 3px;">D</kbd> - æŸ¥çœ‹è¯¦ç»†è§„æ ¼<br>
                    <kbd style="background: white; color: #3498db; padding: 2px 8px; border-radius: 3px;">ESC</kbd> - é‡ç½®<br><br>
                    <button onclick="this.parentElement.remove()" style="
                        margin-top: 10px;
                        padding: 8px 20px;
                        background: white;
                        color: #3498db;
                        border: none;
                        border-radius: 6px;
                        cursor: pointer;
                        font-weight: bold;
                        font-size: 13px;
                    ">çŸ¥é“äº†</button>
                `;
                
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes slideIn {
                        from { transform: translateX(400px); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
                document.body.appendChild(hint);

                setTimeout(() => {
                    hint.style.transition = 'opacity 0.5s';
                    hint.style.opacity = '0';
                    setTimeout(() => hint.remove(), 500);
                }, 15000);
            }, 1000);

            // æ·»åŠ å±‚æ‚¬åœæ•ˆæœ
            const layers = document.querySelectorAll('.layer');
            layers.forEach(layer => {
                layer.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateX(10px) scale(1.02)';
                });
                layer.addEventListener('mouseleave', function() {
                    this.style.transform = '';
                });
            });
        });
    </script>
</body>
</html>