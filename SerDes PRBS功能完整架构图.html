<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>SerDes PRBSåŠŸèƒ½å®Œæ•´ç¤ºæ„å›¾</title>  
    <style>  
        * {  
            margin: 0;  
            padding: 0;  
            box-sizing: border-box;  
        }  

        body {  
            font-family: 'Segoe UI', 'Microsoft YaHei', Arial, sans-serif;  
            background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);  
            padding: 20px;  
            color: #fff;  
            min-height: 100vh;  
        }  

        .container {  
            max-width: 1600px;  
            margin: 0 auto;  
        }  

        h1 {  
            text-align: center;  
            margin-bottom: 30px;  
            font-size: 2.5em;  
            text-shadow: 2px 2px 4px rgba(0,0,0,0.5);  
            color: #ffd700;  
        }  

        .main-diagram {  
            background: rgba(255, 255, 255, 0.1);  
            border-radius: 20px;  
            padding: 30px;  
            margin: 20px 0;  
            backdrop-filter: blur(10px);  
            border: 2px solid rgba(255, 215, 0, 0.3);  
        }  

        .chip-title {  
            text-align: center;  
            font-size: 28px;  
            color: #ffd700;  
            margin-bottom: 30px;  
            font-weight: bold;  
            text-decoration: underline;  
        }  

        .data-path {  
            display: flex;  
            align-items: center;  
            justify-content: space-between;  
            margin: 40px 0;  
            position: relative;  
        }  

        .module-box {  
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.3) 0%, rgba(118, 75, 162, 0.3) 100%);  
            border: 3px solid #667eea;  
            border-radius: 15px;  
            padding: 20px;  
            min-width: 180px;  
            min-height: 120px;  
            display: flex;  
            flex-direction: column;  
            align-items: center;  
            justify-content: center;  
            position: relative;  
            transition: all 0.3s;  
            cursor: pointer;  
        }  

        .module-box:hover {  
            transform: translateY(-5px);  
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.5);  
            border-color: #ffd700;  
        }  

        .module-box.prbs {  
            background: linear-gradient(135deg, rgba(255, 0, 128, 0.3) 0%, rgba(255, 99, 71, 0.3) 100%);  
            border-color: #ff0080;  
            min-width: 220px;  
            min-height: 140px;  
        }  

        .module-box.prbs:hover {  
            box-shadow: 0 10px 25px rgba(255, 0, 128, 0.6);  
        }  

        .module-box.am {  
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.3) 0%, rgba(255, 140, 0, 0.3) 100%);  
            border-color: #ffd700;  
        }  

        .module-box.fec {  
            background: linear-gradient(135deg, rgba(0, 188, 212, 0.3) 0%, rgba(76, 175, 80, 0.3) 100%);  
            border-color: #00bcd4;  
        }  

        .module-name {  
            font-size: 20px;  
            font-weight: bold;  
            margin-bottom: 10px;  
            color: #fff;  
        }  

        .module-desc {  
            font-size: 12px;  
            text-align: center;  
            color: #ccc;  
            line-height: 1.4;  
        }  

        .arrow {  
            font-size: 40px;  
            color: #4facfe;  
            margin: 0 10px;  
            animation: pulse 2s infinite;  
        }  

        @keyframes pulse {  
            0%, 100% { opacity: 1; transform: scale(1); }  
            50% { opacity: 0.6; transform: scale(1.1); }  
        }  

        .prbs-switch {  
            position: absolute;  
            top: -30px;  
            left: 50%;  
            transform: translateX(-50%);  
            background: rgba(255, 0, 128, 0.8);  
            padding: 8px 15px;  
            border-radius: 20px;  
            font-size: 14px;  
            font-weight: bold;  
            border: 2px solid #ffd700;  
            white-space: nowrap;  
        }  

        .bypass-arrow {  
            position: absolute;  
            top: 50%;  
            left: 50%;  
            width: 200px;  
            height: 2px;  
            background: #ff0080;  
            transform: translateY(-50%);  
            display: none;  
        }  

        .bypass-arrow.active {  
            display: block;  
        }  

        .mode-selector {  
            text-align: center;  
            margin: 30px 0;  
            padding: 20px;  
            background: rgba(255, 255, 255, 0.1);  
            border-radius: 15px;  
        }  

        .mode-btn {  
            padding: 12px 30px;  
            margin: 0 10px;  
            font-size: 16px;  
            font-weight: bold;  
            border: 3px solid;  
            border-radius: 25px;  
            cursor: pointer;  
            transition: all 0.3s;  
            background: rgba(0, 0, 0, 0.5);  
            color: #fff;  
        }  

        .mode-btn.normal {  
            border-color: #667eea;  
        }  

        .mode-btn.prbs {  
            border-color: #ff0080;  
        }  

        .mode-btn.active {  
            background: linear-gradient(135deg, #ff0080 0%, #ff6347 100%);  
            box-shadow: 0 5px 15px rgba(255, 0, 128, 0.5);  
            transform: scale(1.05);  
        }  

        .prbs-details {  
            display: grid;  
            grid-template-columns: repeat(2, 1fr);  
            gap: 20px;  
            margin: 30px 0;  
        }  

        .detail-card {  
            background: rgba(255, 255, 255, 0.1);  
            border-radius: 15px;  
            padding: 25px;  
            border: 2px solid rgba(255, 215, 0, 0.3);  
        }  

        .detail-card h3 {  
            color: #ffd700;  
            margin-bottom: 15px;  
            font-size: 20px;  
            border-bottom: 2px solid #ffd700;  
            padding-bottom: 10px;  
        }  

        .prbs-pattern {  
            background: rgba(0, 0, 0, 0.6);  
            padding: 15px;  
            border-radius: 8px;  
            font-family: 'Courier New', monospace;  
            font-size: 13px;  
            margin: 15px 0;  
            line-height: 1.8;  
            border-left: 4px solid #ff0080;  
            white-space: pre-wrap;  
            word-wrap: break-word;  
        }  

        .criteria-list {  
            list-style: none;  
            padding: 0;  
        }  

        .criteria-list li {  
            padding: 10px;  
            margin: 8px 0;  
            background: rgba(0, 0, 0, 0.3);  
            border-radius: 8px;  
            border-left: 4px solid #4facfe;  
            position: relative;  
            padding-left: 40px;  
        }  

        .criteria-list li:before {  
            content: 'âœ“';  
            position: absolute;  
            left: 15px;  
            color: #44ff44;  
            font-weight: bold;  
            font-size: 18px;  
        }  

        .flowchart {  
            background: rgba(0, 0, 0, 0.3);  
            padding: 25px;  
            border-radius: 15px;  
            margin: 20px 0;  
        }  

        .flow-step {  
            background: rgba(255, 255, 255, 0.1);  
            border: 2px solid #4facfe;  
            border-radius: 10px;  
            padding: 15px;  
            margin: 15px 0;  
            position: relative;  
            transition: all 0.3s;  
        }  

        .flow-step:hover {  
            background: rgba(255, 255, 255, 0.2);  
            transform: translateX(5px);  
        }  

        .flow-step:after {  
            content: 'â†“';  
            position: absolute;  
            bottom: -25px;  
            left: 50%;  
            transform: translateX(-50%);  
            font-size: 24px;  
            color: #4facfe;  
        }  

        .flow-step:last-child:after {  
            content: '';  
        }  

        .step-number {  
            display: inline-block;  
            width: 30px;  
            height: 30px;  
            background: #ff0080;  
            border-radius: 50%;  
            text-align: center;  
            line-height: 30px;  
            margin-right: 10px;  
            font-weight: bold;  
        }  

        .comparison-table {  
            width: 100%;  
            border-collapse: collapse;  
            margin: 20px 0;  
            background: rgba(0, 0, 0, 0.3);  
        }  

        .comparison-table th,  
        .comparison-table td {  
            padding: 15px;  
            text-align: left;  
            border: 1px solid rgba(255, 255, 255, 0.3);  
        }  

        .comparison-table th {  
            background: rgba(255, 0, 128, 0.3);  
            font-weight: bold;  
            color: #ffd700;  
        }  

        .comparison-table tr:hover {  
            background: rgba(255, 255, 255, 0.1);  
        }  

        .highlight {  
            color: #ffd700;  
            font-weight: bold;  
        }  

        .emphasis {  
            color: #ff0080;  
            font-weight: bold;  
        }  

        .good {  
            color: #44ff44;  
        }  

        .bad {  
            color: #ff4444;  
        }  

        .info-box {  
            background: rgba(255, 215, 0, 0.2);  
            border: 2px solid #ffd700;  
            border-radius: 10px;  
            padding: 15px;  
            margin: 15px 0;  
        }  

        .info-box-title {  
            font-size: 18px;  
            font-weight: bold;  
            color: #ffd700;  
            margin-bottom: 10px;  
        }  

        .tabs {  
            display: flex;  
            gap: 10px;  
            margin-bottom: 20px;  
            justify-content: center;  
            flex-wrap: wrap;  
        }  

        .tab-btn {  
            padding: 12px 24px;  
            background: rgba(255, 255, 255, 0.2);  
            border: 2px solid rgba(255, 255, 255, 0.3);  
            border-radius: 8px;  
            color: #fff;  
            cursor: pointer;  
            transition: all 0.3s;  
            font-size: 16px;  
            font-weight: bold;  
        }  

        .tab-btn:hover {  
            background: rgba(255, 215, 0, 0.3);  
            border-color: #ffd700;  
        }  

        .tab-btn.active {  
            background: linear-gradient(135deg, #ff0080 0%, #ff6347 100%);  
            border-color: #ffd700;  
        }  

        .tab-content {  
            display: none;  
        }  

        .tab-content.active {  
            display: block;  
            animation: fadeIn 0.5s;  
        }  

        @keyframes fadeIn {  
            from { opacity: 0; transform: translateY(10px); }  
            to { opacity: 1; transform: translateY(0); }  
        }  

        .status-indicator {  
            display: inline-block;  
            width: 12px;  
            height: 12px;  
            border-radius: 50%;  
            margin-right: 8px;  
        }  

        .status-indicator.ok {  
            background: #44ff44;  
            box-shadow: 0 0 10px #44ff44;  
        }  

        .status-indicator.error {  
            background: #ff4444;  
            box-shadow: 0 0 10px #ff4444;  
        }  

        .status-indicator.warning {  
            background: #ffaa00;  
            box-shadow: 0 0 10px #ffaa00;  
        }  

        @media (max-width: 1200px) {  
            .prbs-details {  
                grid-template-columns: 1fr;  
            }  
            .data-path {  
                flex-direction: column;  
            }  
            .arrow {  
                transform: rotate(90deg);  
                margin: 20px 0;  
            }  
        }  

        .register-view {  
            background: rgba(0, 0, 0, 0.6);  
            padding: 20px;  
            border-radius: 10px;  
            margin: 20px 0;  
            font-family: 'Courier New', monospace;  
            font-size: 13px;  
        }  

        .register-row {  
            display: flex;  
            justify-content: space-between;  
            padding: 8px;  
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);  
        }  

        .register-row:hover {  
            background: rgba(255, 255, 255, 0.1);  
        }  

        .reg-name {  
            color: #4facfe;  
            font-weight: bold;  
            width: 200px;  
        }  

        .reg-value {  
            color: #44ff44;  
            font-family: 'Courier New', monospace;  
        }  

        .reg-desc {  
            color: #ccc;  
            font-size: 12px;  
            flex: 1;  
            margin-left: 20px;  
        }  
    </style>  
</head>  
<body>  
    <div class="container">  
        <h1>ğŸ”¬ SerDes PRBSåŠŸèƒ½å®Œæ•´æ¶æ„å›¾</h1>  

        <!-- æ¨¡å¼é€‰æ‹©å™¨ -->  
        <div class="mode-selector">  
            <h2 style="color: #ffd700; margin-bottom: 20px;">é€‰æ‹©å·¥ä½œæ¨¡å¼</h2>  
            <button class="mode-btn normal active" onclick="switchMode('normal')">  
                ğŸ“¡ æ­£å¸¸æ¨¡å¼ (Normal Data Path)  
            </button>  
            <button class="mode-btn prbs" onclick="switchMode('prbs')">  
                ğŸ”§ PRBSæµ‹è¯•æ¨¡å¼ (PRBS Test Mode)  
            </button>  
        </div>  

        <!-- æ ‡ç­¾é¡µ -->  
        <div class="tabs">  
            <button class="tab-btn active" onclick="switchTab('architecture')">ğŸ—ï¸ æ¶æ„å›¾</button>  
            <button class="tab-btn" onclick="switchTab('criteria')">ğŸ“Š åˆ¤æ–­æ ‡å‡†</button>  
            <button class="tab-btn" onclick="switchTab('flowchart')">ğŸ”„ å¤„ç†æµç¨‹</button>  
            <button class="tab-btn" onclick="switchTab('registers')">âš™ï¸ å¯„å­˜å™¨é…ç½®</button>  
        </div>  

        <!-- Tab 1: æ¶æ„å›¾ -->  
        <div id="architecture" class="tab-content active">  
            <div class="main-diagram">  
                <div class="chip-title">ğŸ”² SerDes èŠ¯ç‰‡å†…éƒ¨æ¶æ„</div>  

                <!-- TXè·¯å¾„ -->  
                <div style="margin-bottom: 50px;">  
                    <h2 style="color: #ffd700; margin-bottom: 20px; text-align: center;">  
                        ğŸ“¤ å‘é€è·¯å¾„ (TX Path)  
                    </h2>  
                    <div class="data-path" id="tx-path">  
                        <div class="module-box">  
                            <div class="module-name">MACå±‚</div>  
                            <div class="module-desc">ä»¥å¤ªç½‘å¸§<br>ç”Ÿæˆ</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box">  
                            <div class="module-name">PCS</div>  
                            <div class="module-desc">64B/66B<br>ç¼–ç <br>Scrambler</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box prbs" id="tx-prbs">  
                            <div class="prbs-switch">PRBSå¼€å…³</div>  
                            <div class="module-name">PRBS Gen</div>  
                            <div class="module-desc">  
                                <span class="emphasis">PRBS7/9/11/13/15/23/31</span><br>  
                                ä¼ªéšæœºåºåˆ—ç”Ÿæˆå™¨  
                            </div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box am">  
                            <div class="module-name">AMæ’å…¥</div>  
                            <div class="module-desc">Alignment<br>Marker<br>å‘¨æœŸæ’å…¥</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box fec">  
                            <div class="module-name">FECç¼–ç </div>  
                            <div class="module-desc">RS(544,514)<br>çº é”™ç¼–ç <br>æ·»åŠ æ ¡éªŒ</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box">  
                            <div class="module-name">SerDes TX</div>  
                            <div class="module-desc">å¹¶ä¸²è½¬æ¢<br>Pre-emphasis<br>å…‰å‘é€</div>  
                        </div>  
                    </div>  

                    <div class="info-box">  
                        <div class="info-box-title">ğŸ” TXè·¯å¾„å…³é”®ç‚¹</div>  
                        <ul style="line-height: 2;">  
                            <li><span class="highlight">PRBS Generatorä½ç½®ï¼š</span>åœ¨PCSä¹‹åã€AMæ’å…¥ä¹‹å‰</li>  
                            <li><span class="highlight">PRBSå¯ç”¨æ—¶ï¼š</span>ç»•è¿‡MACå’ŒPCSï¼Œç›´æ¥ç”Ÿæˆä¼ªéšæœºåºåˆ—</li>  
                            <li><span class="emphasis">AMä»ç„¶æ’å…¥ï¼š</span>PRBSæ¨¡å¼ä¸‹AMç æ­£å¸¸å·¥ä½œï¼Œç”¨äºæ¥æ”¶ç«¯å¯¹é½</li>  
                            <li><span class="emphasis">FECä»ç„¶ç¼–ç ï¼š</span>PRBSæ•°æ®å‚ä¸FECç¼–ç ï¼ˆå¯é€‰é…ç½®ï¼‰</li>  
                        </ul>  
                    </div>  
                </div>  

                <!-- å…‰çº¤ä¼ è¾“ -->  
                <div style="text-align: center; margin: 40px 0;">  
                    <div style="font-size: 48px; color: #ffd700;">  
                        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—<br>  
                        â•‘ã€€ã€€ã€€ã€€ã€€ğŸŒ å…‰çº¤/ç”µç¼†ä¼ è¾“ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€â•‘<br>  
                        â•‘ã€€PRBS + AM + FEC â†’ ç‰©ç†ä»‹è´¨ â†’ RXã€€ã€€ã€€ â•‘<br>  
                        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  
                    </div>  
                </div>  

                <!-- RXè·¯å¾„ -->  
                <div>  
                    <h2 style="color: #ffd700; margin-bottom: 20px; text-align: center;">  
                        ğŸ“¥ æ¥æ”¶è·¯å¾„ (RX Path)  
                    </h2>  
                    <div class="data-path" id="rx-path">  
                        <div class="module-box">  
                            <div class="module-name">SerDes RX</div>  
                            <div class="module-desc">ä¸²å¹¶è½¬æ¢<br>CDRæ—¶é’Ÿæ¢å¤<br>å‡è¡¡</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box fec">  
                            <div class="module-name">FECè§£ç </div>  
                            <div class="module-desc">é”™è¯¯æ£€æµ‹<br>é”™è¯¯çº æ­£<br>ç»Ÿè®¡BER</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box am">  
                            <div class="module-name">AMæ£€æµ‹</div>  
                            <div class="module-desc">Markerè¯†åˆ«<br>Laneå¯¹é½<br>Deskew</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box prbs" id="rx-prbs">  
                            <div class="prbs-switch">PRBS Checker</div>  
                            <div class="module-name">PRBS Check</div>  
                            <div class="module-desc">  
                                <span class="emphasis">åºåˆ—éªŒè¯</span><br>  
                                é”™è¯¯è®¡æ•°<br>  
                                <span class="good">BERç»Ÿè®¡</span>  
                            </div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box">  
                            <div class="module-name">PCS</div>  
                            <div class="module-desc">64B/66B<br>è§£ç <br>Descrambler</div>  
                        </div>  

                        <div class="arrow">â†’</div>  

                        <div class="module-box">  
                            <div class="module-name">MACå±‚</div>  
                            <div class="module-desc">ä»¥å¤ªç½‘å¸§<br>æ¥æ”¶å¤„ç†</div>  
                        </div>  
                    </div>  

                    <div class="info-box">  
                        <div class="info-box-title">ğŸ” RXè·¯å¾„å…³é”®ç‚¹</div>  
                        <ul style="line-height: 2;">  
                            <li><span class="highlight">PRBS Checkerä½ç½®ï¼š</span>åœ¨AMæ£€æµ‹ä¹‹åã€PCSä¹‹å‰</li>  
                            <li><span class="highlight">PRBSæ£€æŸ¥æ—¶ï¼š</span>ä¸å‘é€ç«¯çš„PRBSåºåˆ—é€bitæ¯”å¯¹</li>  
                            <li><span class="emphasis">AMå¿…é¡»æ­£ç¡®ï¼š</span>AMé”™è¯¯ä¼šå¯¼è‡´PRBSæ— æ³•åŒæ­¥</li>  
                            <li><span class="emphasis">FECçº é”™åå†æ£€æŸ¥ï¼š</span>PRBSç»Ÿè®¡çš„æ˜¯FECåçš„BER</li>  
                        </ul>  
                    </div>  
                </div>  
            </div>  

            <!-- PRBSä¸AM/FECçš„å…³ç³» -->  
            <div class="main-diagram">  
                <h2 style="color: #ffd700; margin-bottom: 20px; text-align: center;">  
                    ğŸ”— PRBSä¸AM/FECçš„äº¤äº’å…³ç³»  
                </h2>  
                <div class="prbs-details">  
                    <div class="detail-card">  
                        <h3>ğŸ“ PRBSä¸AMçš„å…³ç³»</h3>  
                        <div class="prbs-pattern">  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚  TXç«¯æ•°æ®æµï¼š                          â”‚  
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚  
â”‚  [PRBS][PRBS][PRBS]...[PRBS]           â”‚  
â”‚                  â†“                     â”‚  
â”‚              æ’å…¥AMç                   â”‚  
â”‚                  â†“                     â”‚  
â”‚  [PRBS][AM][PRBS][PRBS][AM][PRBS]...   â”‚  
â”‚         â†‘              â†‘               â”‚  
â”‚    æ¯16384 Block    æ¯16384 Block      â”‚  
â”‚                                        â”‚  
â”‚  RXç«¯å¤„ç†ï¼š                            â”‚  
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚  
â”‚  1. å…ˆæ£€æµ‹AM â†’ å»ºç«‹Blockè¾¹ç•Œ           â”‚  
â”‚  2. AMæ£€æµ‹æˆåŠŸ â†’ æ‰èƒ½åŒæ­¥PRBS          â”‚  
â”‚  3. è·³è¿‡AM Block â†’ ç»§ç»­æ£€æŸ¥PRBS        â”‚  
â”‚                                        â”‚  
â”‚  å…³é”®ç‚¹ï¼š                              â”‚  
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚  
â”‚  <span class="emphasis">â€¢ AMä¸å‚ä¸PRBSæ ¡éªŒ</span>                  â”‚  
â”‚  <span class="emphasis">â€¢ AMå¿…é¡»æ­£ç¡®æ‰èƒ½Lock PRBS</span>           â”‚  
â”‚  â€¢ AMä½ç½®å›ºå®šï¼Œä¸å½±å“PRBSè¿ç»­æ€§        â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
                        </div>  
                        <ul class="criteria-list" style="margin-top: 15px;">  
                            <li>AMç <span class="highlight">é€ä¼ </span>ï¼Œä¸è¢«PRBS Generatoræ›¿æ¢</li>  
                            <li>PRBS Checkeråœ¨AMä½ç½®<span class="highlight">æš‚åœæ£€æŸ¥</span></li>  
                            <li>AM Lockæ˜¯PRBS Lockçš„<span class="emphasis">å‰ææ¡ä»¶</span></li>  
                        </ul>  
                    </div>  

                    <div class="detail-card">  
                        <h3>ğŸ›¡ï¸ PRBSä¸FECçš„å…³ç³»</h3>  
                        <div class="prbs-pattern">  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚  TXç«¯ç¼–ç æµç¨‹ï¼š                        â”‚  
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚  
â”‚  PRBS Generator                        â”‚  
â”‚       â†“                                â”‚  
â”‚  [PRBS Data] (514 symbols)             â”‚  
â”‚       â†“                                â”‚  
â”‚  FEC Encoder (RSç¼–ç )                  â”‚  
â”‚       â†“                                â”‚  
â”‚  [PRBS Data + FEC Parity] (544 sym)    â”‚  
â”‚   â†‘â”€â”€â”€â”€â”€514â”€â”€â”€â”€â†‘â”€30â”€â”€â†‘                â”‚  
â”‚                                        â”‚  
â”‚  RXç«¯è§£ç æµç¨‹ï¼š                        â”‚  
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚  
â”‚  æ¥æ”¶ [Data + Parity]                  â”‚  
â”‚       â†“                                â”‚  
â”‚  FEC Decoder                           â”‚  
â”‚  â€¢ æ£€æµ‹é”™è¯¯                            â”‚  
â”‚  â€¢ çº æ­£é”™è¯¯ï¼ˆæœ€å¤š15 symbolsï¼‰          â”‚  
â”‚       â†“                                â”‚  
â”‚  [Corrected PRBS Data]                 â”‚  
â”‚       â†“                                â”‚  
â”‚  PRBS Checker                          â”‚  
â”‚  â€¢ éªŒè¯åºåˆ—                            â”‚  
â”‚  â€¢ ç»Ÿè®¡å‰©ä½™é”™è¯¯ï¼ˆ<span class="good">FECåBER</span>ï¼‰          â”‚  
â”‚                                        â”‚  
â”‚  ä¸¤ç§é…ç½®æ¨¡å¼ï¼š                        â”‚  
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚  
â”‚  æ¨¡å¼1ï¼šFECå¼€å¯                        â”‚  
â”‚  â€¢ PRBSç»Ÿè®¡ = <span class="highlight">FECçº é”™åçš„BER</span>        â”‚  
â”‚  â€¢ åæ˜ FECæ€§èƒ½                         â”‚  
â”‚  â€¢ åº”ç”¨åœºæ™¯ï¼šç³»ç»Ÿçº§æµ‹è¯•                â”‚  
â”‚                                        â”‚  
â”‚  æ¨¡å¼2ï¼šFECå…³é—­ï¼ˆBypassï¼‰              â”‚  
â”‚  â€¢ PRBSç»Ÿè®¡ = <span class="highlight">åŸå§‹ä¿¡é“BER</span>           â”‚  
â”‚  â€¢ åæ˜ ç‰©ç†å±‚è´¨é‡                      â”‚  
â”‚  â€¢ åº”ç”¨åœºæ™¯ï¼šSerDesè°ƒè¯•                â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
                        </div>  
                        <ul class="criteria-list" style="margin-top: 15px;">  
                            <li>FECå¼€å¯ï¼šæµ‹è¯•<span class="highlight">ç³»ç»Ÿçº§BER</span>ï¼ˆåº”ç”¨å±‚çœ‹åˆ°çš„ï¼‰</li>  
                            <li>FECå…³é—­ï¼šæµ‹è¯•<span class="highlight">ç‰©ç†å±‚BER</span>ï¼ˆä¿¡é“åŸå§‹è´¨é‡ï¼‰</li>  
                            <li>FECèƒ½çº æ­£PRBSé”™è¯¯ï¼Œé™ä½æœ€ç»ˆBER</li>  
                        </ul>  
                    </div>  
                </div>  
            </div>  
        </div>  

        <!-- Tab 2: åˆ¤æ–­æ ‡å‡† -->  
        <div id="criteria" class="tab-content">  
            <div class="main-diagram">  
                <h2 style="color: #ffd700; margin-bottom: 20px; text-align: center;">  
                    ğŸ“Š PRBSæµ‹è¯•åˆ¤æ–­æ ‡å‡†  
                </h2>  

                <div class="detail-card">  
                    <h3>ğŸ¯ PRBS Lockï¼ˆåŒæ­¥é”å®šï¼‰æ¡ä»¶</h3>  
                    <div class="prbs-pattern">  
PRBSåŒæ­¥çŠ¶æ€æœºï¼š  

åˆå§‹çŠ¶æ€ï¼šUNLOCKED  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
â†“  
æœç´¢PRBS Patternï¼ˆå¯¹é½å¤šé¡¹å¼ï¼‰  
â†“  
<span class="highlight">æ¡ä»¶1ï¼šè¿ç»­Nä¸ªæ­£ç¡®çš„PRBSä½</span>  
â€¢ PRBS7:  è¿ç»­127 bitsæ­£ç¡®  
â€¢ PRBS15: è¿ç»­255 bitsæ­£ç¡®  
â€¢ PRBS23: è¿ç»­511 bitsæ­£ç¡®  
â€¢ PRBS31: è¿ç»­1023 bitsæ­£ç¡®  
â†“  
<span class="good">çŠ¶æ€ï¼šLOCKEDï¼ˆå·²åŒæ­¥ï¼‰</span>  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  

ç»´æŒLOCKEDçŠ¶æ€ï¼š  
<span class="highlight">æ¡ä»¶2ï¼šé”™è¯¯ç‡ä½äºé˜ˆå€¼</span>  
â€¢ æ¯1M bitså†…ï¼Œé”™è¯¯ < 100 bits  
â€¢ å³ BER < 1e-4  

å¤±é”æ¡ä»¶ï¼ˆLOCKED â†’ UNLOCKEDï¼‰ï¼š  
<span class="bad">æ¡ä»¶3ï¼šè¿ç»­é”™è¯¯è¿‡å¤š</span>  
â€¢ è¿ç»­64 bitså†…ï¼Œè¶…è¿‡16ä¸ªé”™è¯¯  
â€¢ æˆ–æŒç»­5ç§’ BER > 1e-3  
                    </div>  

                    <table class="comparison-table" style="margin-top: 20px;">  
                        <tr>  
                            <th>PRBSç±»å‹</th>  
                            <th>å¤šé¡¹å¼</th>  
                            <th>å‘¨æœŸé•¿åº¦</th>  
                            <th>Lockæ‰€éœ€æ—¶é—´<br>(@25.78125 Gbps)</th>  
                        </tr>  
                        <tr>  
                            <td><strong>PRBS7</strong></td>  
                            <td>xâ· + xâ¶ + 1</td>  
                            <td>2â·-1 = 127 bits</td>  
                            <td>~5 ns</td>  
                        </tr>  
                        <tr>  
                            <td><strong>PRBS9</strong></td>  
                            <td>xâ¹ + xâµ + 1</td>  
                            <td>2â¹-1 = 511 bits</td>  
                            <td>~20 ns</td>  
                        </tr>  
                        <tr>  
                            <td><strong>PRBS11</strong></td>  
                            <td>xÂ¹Â¹ + xâ¹ + 1</td>  
                            <td>2Â¹Â¹-1 = 2047 bits</td>  
                            <td>~80 ns</td>  
                        </tr>  
                        <tr>  
                            <td><strong>PRBS15</strong></td>  
                            <td>xÂ¹âµ + xÂ¹â´ + 1</td>  
                            <td>2Â¹âµ-1 = 32767 bits</td>  
                            <td>~1.3 Î¼s</td>  
                        </tr>  
                        <tr>  
                            <td><strong>PRBS23</strong></td>  
                            <td>xÂ²Â³ + xÂ¹â¸ + 1</td>  
                            <td>2Â²Â³-1 = 8388607 bits</td>  
                            <td>~325 Î¼s</td>  
                        </tr>  
                        <tr>  
                            <td><strong>PRBS31</strong></td>  
                            <td>xÂ³Â¹ + xÂ²â¸ + 1</td>  
                            <td>2Â³Â¹-1 = 2147483647 bits</td>  
                            <td>~83 ms</td>  
                        </tr>  
                    </table>  
                </div>  

                <div class="prbs-details" style="margin-top: 30px;">  
                    <div class="detail-card">  
                        <h3>âœ… PASSåˆ¤æ–­æ ‡å‡†</h3>  
                        <ul class="criteria-list">  
                            <li><span class="status-indicator ok"></span><span class="highlight">BER â‰¤ 1e-12</span>ï¼ˆä¼˜ç§€ï¼‰</li>  
                            <li><span class="status-indicator ok"></span>è¿ç»­æµ‹è¯•1å°æ—¶æ— å¤±é”</li>  
                            <li><span class="status-indicator ok"></span>Total Error Count < 1000</li>  
                            <li><span class="status-indicator ok"></span>AM Lockç¨³å®šï¼ˆå¤šLaneç³»ç»Ÿï¼‰</li>  
                            <li><span class="status-indicator ok"></span>FEC Corrected Errors < Uncorrected</li>  
                        </ul>  
                        <div class="info-box" style="margin-top: 15px;">  
                            <div class="info-box-title">å…¸å‹BERè¦æ±‚</div>  
                            <div class="prbs-pattern">  
åº”ç”¨åœºæ™¯            BERè¦æ±‚          æµ‹è¯•æ—¶é•¿  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
â€¢ æ•°æ®ä¸­å¿ƒ          â‰¤ 1e-12         1å°æ—¶  
â€¢ 5Gå‰ä¼            â‰¤ 1e-13         24å°æ—¶  
â€¢ é•¿è·ä¼ è¾“          â‰¤ 1e-15         1å‘¨  
â€¢ é«˜å¯é ç³»ç»Ÿ        â‰¤ 1e-18         æŒç»­ç›‘æ§  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
                            </div>  
                        </div>  
                    </div>  

                    <div class="detail-card">  
                        <h3>âŒ FAILåˆ¤æ–­æ ‡å‡†</h3>  
                        <ul class="criteria-list">  
                            <li><span class="status-indicator error"></span><span class="bad">BER > 1e-6</span>ï¼ˆä¸å¯ç”¨ï¼‰</li>  
                            <li><span class="status-indicator error"></span>æŒç»­10ç§’æ— æ³•Lock PRBS</li>  
                            <li><span class="status-indicator error"></span>é¢‘ç¹å¤±é”ï¼ˆæ¯åˆ†é’Ÿ>3æ¬¡ï¼‰</li>  
                            <li><span class="status-indicator error"></span>AMæ— æ³•Lockï¼ˆå¤šLaneå¤±æ­¥ï¼‰</li>  
                            <li><span class="status-indicator error"></span>FEC Uncorrected ErrorsæŒç»­å¢åŠ </li>  
                            <li><span class="status-indicator warning"></span>è¯¯ç çªå‘ï¼ˆBurst Errorï¼‰</li>  
                        </ul>  
                        <div class="info-box" style="margin-top: 15px;">  
                            <div class="info-box-title">å¸¸è§å¤±è´¥åŸå› </div>  
                            <div class="prbs-pattern">  
BERèŒƒå›´           å¯èƒ½åŸå›                    å¤„ç†å»ºè®®  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
1e-3 ~ 1e-6      â€¢ å…‰åŠŸç‡è¿‡ä½               â†’ æ£€æŸ¥å…‰æ¨¡å—  
                 â€¢ é¢„åŠ é‡ä¸è¶³               â†’ è°ƒæ•´TXå‡è¡¡  
                 â€¢ CDRæœªé”å®š                â†’ æ£€æŸ¥å‚è€ƒæ—¶é’Ÿ  

1e-6 ~ 1e-9      â€¢ ä¿¡å·å®Œæ•´æ€§é—®é¢˜           â†’ ä¼˜åŒ–PCBèµ°çº¿  
                 â€¢ ä¸²æ‰°                     â†’ å¢åŠ å±è”½  
                 â€¢ æŠ–åŠ¨è¿‡å¤§                 â†’ æ”¹å–„æ—¶é’Ÿè´¨é‡  

1e-9 ~ 1e-12     â€¢ è¾¹ç¼˜ç é—´å¹²æ‰°             â†’ å¾®è°ƒRXå‡è¡¡  
                 â€¢ æ¸©åº¦æ¼‚ç§»                 â†’ ç¯å¢ƒæ§åˆ¶  
                 â€¢ è€åŒ–                     â†’ é¢„é˜²æ€§ç»´æŠ¤  

< 1e-12          <span class="good">æ­£å¸¸å·¥ä½œèŒƒå›´</span>              â†’ ç»§ç»­ç›‘æ§  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
                            </div>  
                        </div>  
                    </div>  
                </div>  

                <div class="detail-card" style="margin-top: 30px;">  
                    <h3>ğŸ“ˆ BERç»Ÿè®¡æ–¹æ³•</h3>  
                    <div class="prbs-pattern">  
BERè®¡ç®—å…¬å¼ï¼š  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
BER = Error_Bit_Count / Total_Bit_Count  

ä¾‹å¦‚ï¼š  
â€¢ æµ‹è¯•æ—¶é—´ï¼š1å°æ—¶ = 3600ç§’  
â€¢ é€Ÿç‡ï¼š25.78125 Gbps  
â€¢ æ€»ä¼ è¾“bitæ•°ï¼š25.78125e9 Ã— 3600 = 9.28e13 bits  
â€¢ æ£€æµ‹åˆ°é”™è¯¯ï¼š93 bits  
â€¢ è®¡ç®—BERï¼š93 / 9.28e13 â‰ˆ <span class="good">1.0e-12</span> âœ“  

ç½®ä¿¡åº¦ï¼š  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
ç›®æ ‡BER      æœ€å°æµ‹è¯•ä½æ•°        å»ºè®®æµ‹è¯•æ—¶é•¿(@25G)  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
1e-9         1e11 bits          ~4ç§’  
1e-10        1e12 bits          ~40ç§’  
1e-11        1e13 bits          ~6åˆ†é’Ÿ  
1e-12        1e14 bits          ~1å°æ—¶  
1e-13        1e15 bits          ~10å°æ—¶  
1e-15        1e17 bits          ~45å¤©  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  

<span class="emphasis">æ³¨æ„ï¼šè‡³å°‘éœ€è¦æ£€æµ‹åˆ°10ä¸ªé”™è¯¯æ‰æœ‰ç»Ÿè®¡æ„ä¹‰ï¼</span>  
                    </div>  
                </div>  
            </div>  
        </div>  

        <!-- Tab 3: å¤„ç†æµç¨‹ -->  
        <div id="flowchart" class="tab-content">  
            <div class="main-diagram">  
                <h2 style="color: #ffd700; margin-bottom: 20px; text-align: center;">  
                    ğŸ”„ PRBSæµ‹è¯•å®Œæ•´å¤„ç†æµç¨‹  
                </h2>  

                <div class="flowchart">  
                    <h3 style="color: #ffd700; margin-bottom: 20px;">ğŸ“¤ å‘é€ç«¯æµç¨‹</h3>  
                    
                    <div class="flow-step">  
                        <span class="step-number">1</span>  
                        <strong>é…ç½®PRBSæ¨¡å¼</strong>  
                        <div class="prbs-pattern">  
å¯„å­˜å™¨é…ç½®ï¼š  
â€¢ PRBS_TX_EN = 1           // ä½¿èƒ½PRBSå‘é€  
â€¢ PRBS_TYPE = PRBS31       // é€‰æ‹©PRBSç±»å‹  
â€¢ PRBS_TX_INV = 0          // åç›¸ï¼ˆå¯é€‰ï¼‰  
â€¢ AM_INSERT_EN = 1         // ä¿æŒAMæ’å…¥  
â€¢ FEC_EN = 1/0             // FECå¼€å…³ï¼ˆæ ¹æ®æµ‹è¯•éœ€æ±‚ï¼‰  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">2</span>  
                        <strong>PRBS Generatoråˆå§‹åŒ–</strong>  
                        <div class="prbs-pattern">  
â€¢ åŠ è½½åˆå§‹ç§å­ï¼ˆSeedï¼‰ï¼šé€šå¸¸ä¸ºå…¨1  
â€¢ åˆå§‹åŒ–LFSRï¼ˆçº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨ï¼‰  
â€¢ å¼€å§‹ç”Ÿæˆä¼ªéšæœºåºåˆ—  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">3</span>  
                        <strong>æ•°æ®æµç”Ÿæˆ</strong>  
                        <div class="prbs-pattern">  
æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸï¼š  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚  PRBS Gen â†’ [64-bit PRBS Data]      â”‚  
â”‚             â†“                       â”‚  
â”‚  AM Insert â†’ æ¯16384 Blockæ’å…¥AM    â”‚  
â”‚             â†“                       â”‚  
â”‚  FEC Encode â†’ æ·»åŠ 30 Parityç¬¦å·     â”‚  
â”‚             â†“                       â”‚  
â”‚  SerDes TX â†’ å‘é€åˆ°ç‰©ç†ä»‹è´¨         â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">4</span>  
                        <strong>æŒç»­ç›‘æ§</strong>  
                        <div class="prbs-pattern">  
â€¢ TX_PRBS_BIT_COUNTï¼šç´¯è®¡å‘é€bitæ•°  
â€¢ TX_STATUSï¼šå‘é€çŠ¶æ€ï¼ˆRunning/Errorï¼‰  
â€¢ æ¸©åº¦/ç”µå‹ç›‘æ§  
                        </div>  
                    </div>  
                </div>  

                <div class="flowchart" style="margin-top: 30px;">  
                    <h3 style="color: #ffd700; margin-bottom: 20px;">ğŸ“¥ æ¥æ”¶ç«¯æµç¨‹</h3>  
                    
                    <div class="flow-step">  
                        <span class="step-number">1</span>  
                        <strong>ç‰©ç†å±‚åŒæ­¥</strong>  
                        <div class="prbs-pattern">  
<span class="highlight">å‰ææ¡ä»¶ï¼ˆå¿…é¡»å…¨éƒ¨æ»¡è¶³ï¼‰ï¼š</span>  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚ âœ“ CDRé”å®šï¼ˆæ—¶é’Ÿæ¢å¤æˆåŠŸï¼‰           â”‚  
â”‚ âœ“ Laneå¯¹é½ï¼ˆå¤šLaneç³»ç»Ÿï¼‰            â”‚  
â”‚ âœ“ AM Lockï¼ˆæ£€æµ‹åˆ°æ­£ç¡®çš„AM Patternï¼‰ â”‚  
â”‚ âœ“ ä¿¡å·è´¨é‡è¾¾æ ‡ï¼ˆEye Diagramæ‰“å¼€ï¼‰   â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  

æ£€æŸ¥å¯„å­˜å™¨ï¼š  
â€¢ CDR_LOCK = 1  
â€¢ AM_LOCK = 1 (æ‰€æœ‰Lane)  
â€¢ SIGNAL_DETECT = 1  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">2</span>  
                        <strong>é…ç½®PRBS Checker</strong>  
                        <div class="prbs-pattern">  
å¯„å­˜å™¨é…ç½®ï¼š  
â€¢ PRBS_RX_EN = 1           // ä½¿èƒ½PRBSæ£€æŸ¥  
â€¢ PRBS_TYPE = PRBS31       // å¿…é¡»ä¸TXåŒ¹é…  
â€¢ PRBS_RX_INV = 0          // åç›¸ï¼ˆä¸TXå¯¹åº”ï¼‰  
â€¢ ERROR_COUNT_MODE = 0     // 0=ç´¯è®¡, 1=é€Ÿç‡  
â€¢ LOCK_THRESHOLD = 127     // Locké˜ˆå€¼  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">3</span>  
                        <strong>PRBSåŒæ­¥ï¼ˆLockè¿‡ç¨‹ï¼‰</strong>  
                        <div class="prbs-pattern">  
çŠ¶æ€æœºæµç¨‹ï¼š  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
[UNLOCKED] åˆå§‹çŠ¶æ€  
    â†“  
æœç´¢PRBS Patternï¼ˆå°è¯•æ‰€æœ‰å¯èƒ½ç›¸ä½ï¼‰  
    â†“  
<span class="highlight">è¿ç»­127 bitsåŒ¹é…ï¼Ÿ</span>ï¼ˆPRBS7ç¤ºä¾‹ï¼‰  
    â”œâ”€ æ˜¯ â†’ [LOCKED] åŒæ­¥æˆåŠŸ  
    â””â”€ å¦ â†’ ç»§ç»­æœç´¢  

[LOCKED] çŠ¶æ€ç»´æŠ¤  
    â†“  
æŒç»­æ¯”å¯¹æ¥æ”¶æ•°æ®ä¸æœ¬åœ°PRBS  
    â†“  
é”™è¯¯ç‡ < é˜ˆå€¼ï¼Ÿ  
    â”œâ”€ æ˜¯ â†’ ä¿æŒLOCKED  
    â””â”€ å¦ â†’ [UNLOCKED] å¤±é”  

ç›‘æ§å¯„å­˜å™¨ï¼š  
â€¢ PRBS_LOCK_STATUS  
  - 0 = UNLOCKEDï¼ˆæœç´¢ä¸­ï¼‰  
  - 1 = LOCKEDï¼ˆå·²åŒæ­¥ï¼‰  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  

<span class="emphasis">å…¸å‹Lockæ—¶é—´ï¼š</span>  
â€¢ PRBS7:  < 1 Î¼s  
â€¢ PRBS15: < 10 Î¼s  
â€¢ PRBS31: < 100 ms  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">4</span>  
                        <strong>è¯¯ç ç»Ÿè®¡</strong>  
                        <div class="prbs-pattern">  
æ¯ä¸ªæ—¶é’Ÿå‘¨æœŸï¼š  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚  æ¥æ”¶æ•°æ® XOR æœ¬åœ°PRBS â†’ é”™è¯¯ä½     â”‚  
â”‚      â†“                              â”‚  
â”‚  ç´¯è®¡ERROR_BIT_COUNT                â”‚  
â”‚  ç´¯è®¡TOTAL_BIT_COUNT                â”‚  
â”‚      â†“                              â”‚  
â”‚  è®¡ç®—å®æ—¶BER                        â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  

å…³é”®è®¡æ•°å™¨ï¼š  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
å¯„å­˜å™¨                å€¼ç¤ºä¾‹              è¯´æ˜  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
ERROR_BIT_COUNT       93              æ€»é”™è¯¯bitæ•°  
TOTAL_BIT_COUNT       9.28e13         æ€»æ¥æ”¶bitæ•°  
BER_REALTIME          1.0e-12         å®æ—¶BER  
ERROR_BURST_COUNT     2               çªå‘é”™è¯¯æ¬¡æ•°  
FEC_CORRECTED_ERR     1,234           FECçº æ­£çš„é”™è¯¯æ•°  
FEC_UNCORRECTED_ERR   5               FECæ— æ³•çº æ­£çš„é”™è¯¯  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">5</span>  
                        <strong>ç»“æœåˆ¤æ–­</strong>  
                        <div class="prbs-pattern">  
åˆ¤æ–­é€»è¾‘æ ‘ï¼š  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
<span class="highlight">æ˜¯å¦Lockï¼Ÿ</span>  
â”œâ”€ å¦ â†’ <span class="bad">FAIL</span> - æ— æ³•åŒæ­¥PRBS  
â”‚       æ£€æŸ¥ï¼š  
â”‚       â€¢ AM LockçŠ¶æ€  
â”‚       â€¢ å…‰åŠŸç‡  
â”‚       â€¢ PRBSç±»å‹é…ç½®æ˜¯å¦åŒ¹é…  
â”‚  
â””â”€ æ˜¯ â†’ <span class="highlight">BERæ˜¯å¦è¾¾æ ‡ï¼Ÿ</span>  
        â”œâ”€ BER > 1e-6 â†’ <span class="bad">FAIL</span> - ä¸¥é‡è¯¯ç   
        â”‚       æ ¹å› ï¼šç‰©ç†é“¾è·¯è´¨é‡å·®  
        â”‚  
        â”œâ”€ 1e-9 < BER â‰¤ 1e-6 â†’ <span class="status-indicator warning"></span> <span class="bad">MARGINAL</span> - è¾¹ç¼˜çŠ¶æ€  
        â”‚       éœ€è¦ä¼˜åŒ–ï¼šå‡è¡¡å‚æ•°ã€æ¸©åº¦æ§åˆ¶  
        â”‚  
        â””â”€ BER â‰¤ 1e-12 â†’ <span class="good">PASS</span> âœ“  
                è¿›ä¸€æ­¥æ£€æŸ¥ï¼š  
                â€¢ æ˜¯å¦æœ‰çªå‘é”™è¯¯  
                â€¢ FECä½¿ç”¨ç‡  
                â€¢ é•¿æœŸç¨³å®šæ€§  

<span class="emphasis">æœ€ç»ˆæŠ¥å‘Šï¼š</span>  
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  
â”‚  æµ‹è¯•ç»“æœï¼š<span class="good">PASS</span> âœ“                                     â”‚  
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  â”‚  
â”‚  â€¢ BERï¼š1.0e-12                                     â”‚  
â”‚  â€¢ æµ‹è¯•æ—¶é•¿ï¼š3600ç§’                                 â”‚  
â”‚  â€¢ æ€»bitæ•°ï¼š9.28e13                                 â”‚  
â”‚  â€¢ é”™è¯¯bitï¼š93                                      â”‚  
â”‚  â€¢ LockçŠ¶æ€ï¼šç¨³å®šï¼ˆæ— å¤±é”ï¼‰                         â”‚  
â”‚  â€¢ FECçº é”™ï¼š1,234ä¸ªï¼ˆæ­£å¸¸èŒƒå›´ï¼‰                     â”‚  
â”‚  â€¢ å»ºè®®ï¼šå¯æŠ•å…¥ç”Ÿäº§ä½¿ç”¨                             â”‚  
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
                        </div>  
                    </div>  

                    <div class="flow-step">  
                        <span class="step-number">6</span>  
                        <strong>æŒç»­ç›‘æ§ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰</strong>  
                        <div class="prbs-pattern">  
â€¢ æ¯ç§’è¯»å–BERå¯„å­˜å™¨  
â€¢ è®°å½•å†å²è¶‹åŠ¿  
â€¢ å‘Šè­¦é˜ˆå€¼ï¼š  
  - BER > 1e-9ï¼šWARNING  
  - BER > 1e-6ï¼šCRITICAL  
  - Lockä¸¢å¤±ï¼šALARM  
â€¢ è‡ªåŠ¨ç”ŸæˆæŠ¥è¡¨  
                        </div>  
                    </div>  
                </div>  

                <div class="info-box" style="margin-top: 30px;">  
                    <div class="info-box-title">ğŸš¨ å¼‚å¸¸å¤„ç†æµç¨‹</div>  
                    <div class="prbs-pattern">  
å¼‚å¸¸ç±»å‹              å¤„ç†æ­¥éª¤                          é¢„æœŸç»“æœ  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
<span class="bad">æ— æ³•Lock</span>         1. æ£€æŸ¥AM_LOCKçŠ¶æ€                â†’ AMå¿…é¡»å…ˆLock  
                    2. éªŒè¯PRBSç±»å‹é…ç½®              â†’ TX/RXå¿…é¡»åŒ¹é…  
                    3. æ£€æŸ¥ä¿¡å·è´¨é‡ï¼ˆEye Diagramï¼‰   â†’ çœ¼å›¾å¿…é¡»æ‰“å¼€  
                    4. é‡å¯SerDes                    â†’ å¤ä½PHY  

<span class="bad">é¢‘ç¹å¤±é”</span>         1. æ£€æŸ¥å…‰åŠŸç‡ç¨³å®šæ€§              â†’ é¿å…å‰§çƒˆæŠ–åŠ¨  
                    2. æ¸©åº¦ç›‘æ§                      â†’ ä¿æŒæ’æ¸©  
                    3. é™ä½é€Ÿç‡æµ‹è¯•                  â†’ æ’é™¤é€Ÿç‡é—®é¢˜  
                    4. æ›´æ¢å…‰æ¨¡å—                    â†’ æ’é™¤ç¡¬ä»¶æ•…éšœ  

<span class="bad">BERå¼‚å¸¸é«˜</span>        1. è°ƒæ•´RXå‡è¡¡å‚æ•°                â†’ ä¼˜åŒ–ä¿¡å·å®Œæ•´æ€§  
                    2. è°ƒæ•´TXé¢„åŠ é‡                  â†’ è¡¥å¿ä¿¡é“æŸè€—  
                    3. æ£€æŸ¥PCBèµ°çº¿                   â†’ æ’é™¤åå°„/ä¸²æ‰°  
                    4. FECèƒ½åŠ›è¯„ä¼°                   â†’ ç¡®è®¤FECæ˜¯å¦æœ‰æ•ˆ  

<span class="bad">è¯¯ç çªå‘</span>         1. è®°å½•å‘ç”Ÿæ—¶é—´/ç¯å¢ƒ              â†’ å¯»æ‰¾å‘¨æœŸæ€§è§„å¾‹  
                    2. EMIæµ‹è¯•                       â†’ æ’é™¤ç”µç£å¹²æ‰°  
                    3. ç”µæºçº¹æ³¢æ£€æŸ¥                  â†’ ç¡®ä¿ä¾›ç”µè´¨é‡  
                    4. éš”ç¦»é‚»è¿‘å¹²æ‰°æº                â†’ ç‰©ç†éš”ç¦»  
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”  
                    </div>  
                </div>  
            </div>  
        </div>  

        <!-- Tab 4: å¯„å­˜å™¨é…ç½® -->  
        <div id="registers" class="tab-content">  
            <div class="main-diagram">  
                <h2 style="color: #ffd700; margin-bottom: 20px; text-align: center;">  
                    âš™ï¸ PRBSæµ‹è¯•å¯„å­˜å™¨é…ç½®  
                </h2>  

                <div class="detail-card">  
                    <h3>ğŸ“ å‘é€ç«¯å¯„å­˜å™¨ (TX)</h3>  
                    <div class="register-view">  
                        <div class="register-row">  
                            <div class="reg-name">PRBS_TX_CTRL</div>  
                            <div class="reg-value">0x0000_0001</div>  
                            <div class="reg-desc">PRBSå‘é€æ§åˆ¶å¯„å­˜å™¨</div>  
                        </div>  
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">  
                            Bit[0]: PRBS_TX_EN (1=Enable, 0=Disable)<br>  
                            Bit[1]: PRBS_TX_INV (1=Invert, 0=Normal)<br>  
                            Bit[2]: FORCE_ERROR (1=Insert Error, 0=Normal)<br>  
                            Bit[6:4]: PRBS_TYPE<br>  
                            &nbsp;&nbsp;000 = PRBS7<br>  
                            &nbsp;&nbsp;001 = PRBS9<br>  
                            &nbsp;&nbsp;010 = PRBS11<br>  
                            &nbsp;&nbsp;011 = PRBS15<br>  
                            &nbsp;&nbsp;100 = PRBS23<br>  
                            &nbsp;&nbsp;101 = PRBS31<br>  
                        </div>  

                        <div class="register-row" style="margin-top: 20px;">  
                            <div class="reg-name">PRBS_TX_SEED</div>  
                            <div class="reg-value">0xFFFF_FFFF</div>  
                            <div class="reg-desc">PRBSåˆå§‹ç§å­å€¼ï¼ˆé€šå¸¸å…¨1ï¼‰</div>  
                        </div>  

                        <div class="register-row">  
                            <div class="reg-name">PRBS_TX_BIT_CNT</div>  
                            <div class="reg-value">0x0000_0000_xxxx_xxxx</div>  
                            <div class="reg-desc">å‘é€bitè®¡æ•°ï¼ˆåªè¯»ï¼Œ64-bitï¼‰</div>  
                        </div>  

                        <div class="register-row">  
                            <div class="reg-name">AM_INSERT_CTRL</div>  
                            <div class="reg-value">0x0000_0001</div>  
                            <div class="reg-desc">AMæ’å…¥æ§åˆ¶ï¼ˆPRBSæ¨¡å¼ä¸‹ä»å¯ç”¨ï¼‰</div>  
                        </div>  
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">  
                            Bit[0]: AM_INSERT_EN (1=Enable)<br>  
                            Bit[15:8]: AM_PERIOD (é€šå¸¸=164ï¼Œæ¯16384 Block)  
                        </div>  

                        <div class="register-row" style="margin-top: 20px;">  
                            <div class="reg-name">FEC_TX_CTRL</div>  
                            <div class="reg-value">0x0000_0001</div>  
                            <div class="reg-desc">FECç¼–ç æ§åˆ¶</div>  
                        </div>  
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">  
                            Bit[0]: FEC_TX_EN<br>  
                            &nbsp;&nbsp;1 = FECç¼–ç PRBSæ•°æ®ï¼ˆæµ‹è¯•ç³»ç»Ÿçº§BERï¼‰<br>  
                            &nbsp;&nbsp;0 = Bypass FECï¼ˆæµ‹è¯•åŸå§‹BERï¼‰  
                        </div>  
                    </div>  

                    <div class="prbs-pattern" style="margin-top: 20px;">  
<span class="highlight">å‘é€ç«¯é…ç½®ç¤ºä¾‹ä»£ç ï¼š</span>  

// 1. é…ç½®PRBSç±»å‹ä¸ºPRBS31  
write_reg(PRBS_TX_CTRL, 0x00000051);  // Enable + PRBS31  
                                      // Bit[0]=1 (EN)  
                                      // Bit[6:4]=101 (PRBS31)  

// 2. è®¾ç½®ç§å­ï¼ˆå¯é€‰ï¼Œé»˜è®¤å³å¯ï¼‰  
write_reg(PRBS_TX_SEED, 0xFFFFFFFF);  

// 3. ä¿æŒAMæ’å…¥  
write_reg(AM_INSERT_CTRL, 0x0000A401);  // Period=164, EN=1  

// 4. é€‰æ‹©FECæ¨¡å¼  
write_reg(FEC_TX_CTRL, 0x00000001);  // FEC Enableï¼ˆç³»ç»Ÿçº§æµ‹è¯•ï¼‰  
// æˆ–  
write_reg(FEC_TX_CTRL, 0x00000000);  // FEC Bypassï¼ˆç‰©ç†å±‚æµ‹è¯•ï¼‰  

// 5. å¼€å§‹å‘é€  
// PRBS Generatorè‡ªåŠ¨è¿è¡Œï¼ŒæŒç»­è¾“å‡º  
                    </div>  
                </div>  

                <div class="detail-card" style="margin-top: 30px;">  
                    <h3>ğŸ“ æ¥æ”¶ç«¯å¯„å­˜å™¨ (RX)</h3>  
                    <div class="register-view">  
                        <div class="register-row">  
                            <div class="reg-name">PRBS_RX_CTRL</div>  
                            <div class="reg-value">0x0000_0001</div>  
                            <div class="reg-desc">PRBSæ¥æ”¶æ§åˆ¶å¯„å­˜å™¨</div>  
                        </div>  
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">  
                            Bit[0]: PRBS_RX_EN (1=Enable)<br>  
                            Bit[1]: PRBS_RX_INV (1=Invert)<br>  
                            Bit[2]: ERROR_COUNT_CLR (1=Clear, Self-clear)<br>  
                            Bit[3]: ERROR_COUNT_MODE (0=Accumulate, 1=Rate)<br>  
                            Bit[6:4]: PRBS_TYPE (å¿…é¡»ä¸TXåŒ¹é…)  
                        </div>  

                                                <div class="register-row" style="margin-top: 20px;">
                            <div class="reg-name">PRBS_RX_STATUS</div>
                            <div class="reg-value">0x0000_0001</div>
                            <div class="reg-desc">PRBSçŠ¶æ€å¯„å­˜å™¨ï¼ˆåªè¯»ï¼‰</div>
                        </div>
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">
                            Bit[0]: PRBS_LOCK (1=Locked, 0=Unlocked)<br>
                            Bit[1]: AM_LOCK (1=AMå·²åŒæ­¥)<br>
                            Bit[2]: CDR_LOCK (1=CDRå·²é”å®š)<br>
                            Bit[3]: SIGNAL_DETECT (1=æ£€æµ‹åˆ°ä¿¡å·)<br>
                            Bit[4]: ERROR_BURST_DETECT (1=æ£€æµ‹åˆ°çªå‘é”™è¯¯)
                        </div>

                        <div class="register-row" style="margin-top: 20px;">
                            <div class="reg-name">PRBS_ERROR_CNT_LOW</div>
                            <div class="reg-value">0x0000_005D</div>
                            <div class="reg-desc">é”™è¯¯bitè®¡æ•°[31:0]ï¼ˆ93ä¸ªé”™è¯¯ï¼‰</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">PRBS_ERROR_CNT_HIGH</div>
                            <div class="reg-value">0x0000_0000</div>
                            <div class="reg-desc">é”™è¯¯bitè®¡æ•°[63:32]</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">PRBS_TOTAL_CNT_LOW</div>
                            <div class="reg-value">0x5678_9ABC</div>
                            <div class="reg-desc">æ€»bitè®¡æ•°[31:0]</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">PRBS_TOTAL_CNT_HIGH</div>
                            <div class="reg-value">0x0000_5477</div>
                            <div class="reg-desc">æ€»bitè®¡æ•°[63:32]</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">PRBS_BER</div>
                            <div class="reg-value">0x0000_0001</div>
                            <div class="reg-desc">å®æ—¶BERï¼ˆå®šç‚¹æ ¼å¼ï¼Œéœ€è½¬æ¢ï¼‰</div>
                        </div>
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">
                            æ ¼å¼ï¼šQm.n å®šç‚¹æ•°<br>
                            è½¬æ¢ï¼šBER = reg_value Ã— 10^(-15)<br>
                            ç¤ºä¾‹ï¼š0x0001 = 1.0e-12
                        </div>

                        <div class="register-row" style="margin-top: 20px;">
                            <div class="reg-name">FEC_RX_CTRL</div>
                            <div class="reg-value">0x0000_0001</div>
                            <div class="reg-desc">FECè§£ç æ§åˆ¶</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">FEC_CORRECTED_CNT</div>
                            <div class="reg-value">0x0000_04D2</div>
                            <div class="reg-desc">FECçº æ­£çš„é”™è¯¯æ•°ï¼ˆ1234ï¼‰</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">FEC_UNCORRECTED_CNT</div>
                            <div class="reg-value">0x0000_0005</div>
                            <div class="reg-desc">FECæ— æ³•çº æ­£çš„é”™è¯¯æ•°ï¼ˆ5ï¼‰</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">PRBS_LOCK_THRESHOLD</div>
                            <div class="reg-value">0x0000_007F</div>
                            <div class="reg-desc">Locké˜ˆå€¼ï¼ˆ127 bits for PRBS7ï¼‰</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">PRBS_UNLOCK_THRESHOLD</div>
                            <div class="reg-value">0x0000_0040</div>
                            <div class="reg-desc">å¤±é”é˜ˆå€¼ï¼ˆ64è¿ç»­é”™è¯¯ï¼‰</div>
                        </div>
                    </div>

                    <div class="prbs-pattern" style="margin-top: 20px;">
<span class="highlight">æ¥æ”¶ç«¯é…ç½®ç¤ºä¾‹ä»£ç ï¼š</span>

// 1. ç­‰å¾…å‰ææ¡ä»¶æ»¡è¶³
while(1) {
    status = read_reg(PRBS_RX_STATUS);
    if ((status & 0x0E) == 0x0E) {  // CDR+AM+SIGNALéƒ½Lock
        break;
    }
    usleep(1000);  // ç­‰å¾…1ms
}

// 2. é…ç½®PRBS Checkerï¼ˆä¸TXåŒ¹é…ï¼‰
write_reg(PRBS_RX_CTRL, 0x00000051);  // Enable + PRBS31
                                      // Bit[0]=1 (EN)
                                      // Bit[6:4]=101 (PRBS31)

// 3. é…ç½®FECï¼ˆä¸TXå¯¹åº”ï¼‰
write_reg(FEC_RX_CTRL, 0x00000001);  // FEC Enable

// 4. æ¸…é™¤é”™è¯¯è®¡æ•°å™¨
write_reg(PRBS_RX_CTRL, read_reg(PRBS_RX_CTRL) | 0x04);  // Set CLR bit
usleep(10);  // ç­‰å¾…æ¸…é™¤å®Œæˆ

// 5. ç­‰å¾…PRBS Lock
uint32_t timeout = 1000;  // 1000msè¶…æ—¶
while(timeout--) {
    status = read_reg(PRBS_RX_STATUS);
    if (status & 0x01) {  // PRBS_LOCK
        printf("PRBS Locked!\n");
        break;
    }
    usleep(1000);
}
if (timeout == 0) {
    printf("ERROR: PRBS Lock timeout!\n");
    return FAIL;
}

// 6. å¼€å§‹ç»Ÿè®¡ï¼ˆä¾‹å¦‚ï¼š1å°æ—¶æµ‹è¯•ï¼‰
sleep(3600);

// 7. è¯»å–ç»“æœ
uint64_t error_cnt = ((uint64_t)read_reg(PRBS_ERROR_CNT_HIGH) << 32) |
                     read_reg(PRBS_ERROR_CNT_LOW);
uint64_t total_cnt = ((uint64_t)read_reg(PRBS_TOTAL_CNT_HIGH) << 32) |
                     read_reg(PRBS_TOTAL_CNT_LOW);
double ber = (double)error_cnt / (double)total_cnt;

printf("Test Results:\n");
printf("  Error Bits: %llu\n", error_cnt);
printf("  Total Bits: %llu\n", total_cnt);
printf("  BER: %.2e\n", ber);

// 8. åˆ¤æ–­ç»“æœ
if (ber <= 1e-12) {
    printf("PASS âœ“\n");
    return PASS;
} else {
    printf("FAIL âœ— (BER too high)\n");
    return FAIL;
}
                    </div>
                </div>

                <div class="detail-card" style="margin-top: 30px;">
                    <h3>ğŸ”§ è°ƒè¯•å¯„å­˜å™¨</h3>
                    <div class="register-view">
                        <div class="register-row">
                            <div class="reg-name">PRBS_DEBUG_STATUS</div>
                            <div class="reg-value">0xXXXX_XXXX</div>
                            <div class="reg-desc">PRBSè°ƒè¯•çŠ¶æ€ï¼ˆåªè¯»ï¼‰</div>
                        </div>
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">
                            Bit[7:0]: SYNC_STATE (å½“å‰åŒæ­¥çŠ¶æ€æœºçŠ¶æ€)<br>
                            Bit[15:8]: ERROR_PATTERN (æœ€è¿‘8ä¸ªbitçš„é”™è¯¯æ¨¡å¼)<br>
                            Bit[31:16]: LOCK_TIMER (Lockè®¡æ—¶å™¨å½“å‰å€¼)
                        </div>

                        <div class="register-row" style="margin-top: 20px;">
                            <div class="reg-name">PRBS_INJECT_ERROR</div>
                            <div class="reg-value">0x0000_0000</div>
                            <div class="reg-desc">æ‰‹åŠ¨æ³¨å…¥é”™è¯¯ï¼ˆç”¨äºæµ‹è¯•ï¼‰</div>
                        </div>
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">
                            Bit[0]: INJECT_SINGLE_ERROR (å†™1æ³¨å…¥1 bité”™è¯¯)<br>
                            Bit[1]: INJECT_BURST_ERROR (å†™1æ³¨å…¥64 bitsé”™è¯¯)<br>
                            Bit[15:8]: INJECT_ERROR_RATE (æŒ‰æ¯”ä¾‹æ³¨å…¥ï¼Œ1=æ¯1M bitä¸€ä¸ªé”™è¯¯)
                        </div>

                        <div class="register-row" style="margin-top: 20px;">
                            <div class="reg-name">PRBS_ERROR_LOG[0:15]</div>
                            <div class="reg-value">Array of 16 regs</div>
                            <div class="reg-desc">é”™è¯¯æ—¥å¿—ï¼ˆè®°å½•æœ€è¿‘16æ¬¡é”™è¯¯ä½ç½®ï¼‰</div>
                        </div>

                        <div class="register-row">
                            <div class="reg-name">AM_STATUS</div>
                            <div class="reg-value">0x0000_FFFF</div>
                            <div class="reg-desc">AMçŠ¶æ€ï¼ˆæ¯Laneä¸€ä½ï¼‰</div>
                        </div>
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">
                            Bit[i]: Lane[i] AM LockçŠ¶æ€<br>
                            ç¤ºä¾‹ï¼š0xFFFF = 16 Laneå…¨éƒ¨Lock
                        </div>

                        <div class="register-row" style="margin-top: 20px;">
                            <div class="reg-name">EYE_MONITOR</div>
                            <div class="reg-value">0x0000_XXXX</div>
                            <div class="reg-desc">çœ¼å›¾ç›‘æ§ï¼ˆå®æ—¶è´¨é‡æŒ‡æ ‡ï¼‰</div>
                        </div>
                        <div style="padding-left: 40px; color: #ccc; font-size: 12px;">
                            Bit[7:0]: EYE_HEIGHT (çœ¼é«˜ï¼Œå½’ä¸€åŒ–)<br>
                            Bit[15:8]: EYE_WIDTH (çœ¼å®½ï¼ŒUIå•ä½)<br>
                            å»ºè®®ï¼šEYE_HEIGHT > 128, EYE_WIDTH > 0.6 UI
                        </div>
                    </div>

                    <div class="prbs-pattern" style="margin-top: 20px;">
<span class="highlight">è°ƒè¯•ç¤ºä¾‹ï¼šæ³¨å…¥é”™è¯¯æµ‹è¯•</span>

// åœºæ™¯ï¼šéªŒè¯PRBS Checkerèƒ½å¦æ­£ç¡®æ£€æµ‹é”™è¯¯

// 1. æ­£å¸¸å¯åŠ¨PRBSæµ‹è¯•ï¼ˆæŒ‰ä¸Šè¿°æµç¨‹ï¼‰
// 2. ç­‰å¾…ç¨³å®šï¼ˆBER=0ï¼‰
sleep(10);

// 3. æ³¨å…¥å•ä¸ªbité”™è¯¯
printf("Injecting single bit error...\n");
write_reg(PRBS_INJECT_ERROR, 0x01);
sleep(1);

// 4. è¯»å–é”™è¯¯è®¡æ•°
uint32_t error_cnt_before = read_reg(PRBS_ERROR_CNT_LOW);
// é¢„æœŸï¼šerror_cnt_before == 1 âœ“

// 5. æ³¨å…¥çªå‘é”™è¯¯
printf("Injecting burst error...\n");
write_reg(PRBS_INJECT_ERROR, 0x02);
sleep(1);

// 6. è¯»å–é”™è¯¯è®¡æ•°
uint32_t error_cnt_after = read_reg(PRBS_ERROR_CNT_LOW);
// é¢„æœŸï¼šerror_cnt_after == 65 (1 + 64) âœ“

// 7. æ£€æŸ¥æ˜¯å¦å¤±é”ï¼ˆçªå‘é”™è¯¯å¯èƒ½å¯¼è‡´ï¼‰
status = read_reg(PRBS_RX_STATUS);
if (!(status & 0x01)) {
    printf("PRBS unlocked due to burst error (expected)\n");
    // ç­‰å¾…é‡æ–°Lock
    sleep(1);
}

// 8. æ¢å¤æ­£å¸¸ï¼ˆåœæ­¢æ³¨å…¥ï¼‰
write_reg(PRBS_INJECT_ERROR, 0x00);
                    </div>
                </div>

                <div class="info-box" style="margin-top: 30px;">
                    <div class="info-box-title">ğŸ’¡ å¯„å­˜å™¨è®¿é—®æœ€ä½³å®è·µ</div>
                    <div class="prbs-pattern">
<span class="highlight">1. è¯»å–é¡ºåºï¼ˆé¿å…æ•°æ®ä¸ä¸€è‡´ï¼‰</span>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// é”™è¯¯æ–¹å¼ï¼š
error_low = read_reg(PRBS_ERROR_CNT_LOW);   // è¯»å–æ—¶åˆ» T1
// ... ä¸­é—´å¯èƒ½æœ‰å…¶ä»–æ“ä½œ ...
error_high = read_reg(PRBS_ERROR_CNT_HIGH); // è¯»å–æ—¶åˆ» T2
// é—®é¢˜ï¼šT1åˆ°T2ä¹‹é—´ï¼Œlowå¯èƒ½æº¢å‡ºå¯¼è‡´high+1ï¼Œæ•°æ®ä¸ä¸€è‡´

// æ­£ç¡®æ–¹å¼ï¼šä½¿ç”¨ç¡¬ä»¶å¿«ç…§
write_reg(COUNTER_SNAPSHOT_CTRL, 0x01);  // è§¦å‘å¿«ç…§
error_low = read_reg(PRBS_ERROR_CNT_LOW);
error_high = read_reg(PRBS_ERROR_CNT_HIGH);
// ä¿è¯è¯»å–çš„æ˜¯åŒä¸€æ—¶åˆ»çš„å€¼


<span class="highlight">2. æ¸…é™¤è®¡æ•°å™¨ï¼ˆé¿å…ç«äº‰ï¼‰</span>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// æ–¹æ³•1ï¼šè¯»-æ”¹-å†™ï¼ˆå¯èƒ½æœ‰ç«äº‰ï¼‰
reg_val = read_reg(PRBS_RX_CTRL);
reg_val |= 0x04;  // Set CLR bit
write_reg(PRBS_RX_CTRL, reg_val);

// æ–¹æ³•2ï¼šç›´æ¥å†™ï¼ˆæ¨èï¼ŒåŸå­æ“ä½œï¼‰
write_reg(PRBS_ERROR_CNT_CLR, 0x01);  // ä¸“ç”¨æ¸…é™¤å¯„å­˜å™¨


<span class="highlight">3. è½®è¯¢ç­‰å¾…ï¼ˆé¿å…æ­»å¾ªç¯ï¼‰</span>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// é”™è¯¯æ–¹å¼ï¼šæ— é™ç­‰å¾…
while(!(read_reg(PRBS_RX_STATUS) & 0x01));  // å¯èƒ½æ°¸è¿œå¡ä½

// æ­£ç¡®æ–¹å¼ï¼šè¶…æ—¶æœºåˆ¶
uint32_t timeout = 1000;
while(timeout-- > 0) {
    if (read_reg(PRBS_RX_STATUS) & 0x01) break;
    usleep(1000);
}
if (timeout == 0) {
    printf("ERROR: Timeout waiting for PRBS Lock\n");
    return ERROR;
}


<span class="highlight">4. ä¸­æ–­ä½¿ç”¨ï¼ˆé«˜æ•ˆç‡ï¼‰</span>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// ä½¿èƒ½ä¸­æ–­
write_reg(PRBS_INT_EN, 0x03);  // Bit[0]=Lock, Bit[1]=Error

// ä¸­æ–­å¤„ç†
void prbs_isr(void) {
    uint32_t int_status = read_reg(PRBS_INT_STATUS);
    
    if (int_status & 0x01) {  // Lockä¸­æ–­
        printf("PRBS Locked!\n");
        sem_post(&prbs_lock_sem);
    }
    
    if (int_status & 0x02) {  // Errorä¸­æ–­ï¼ˆBERè¶…é˜ˆå€¼ï¼‰
        printf("ERROR: BER threshold exceeded!\n");
        // è§¦å‘å‘Šè­¦
    }
    
    // æ¸…é™¤ä¸­æ–­æ ‡å¿—
    write_reg(PRBS_INT_CLEAR, int_status);
}


<span class="highlight">5. å¤šLaneç³»ç»Ÿï¼ˆå¹¶è¡Œæ“ä½œï¼‰</span>
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
// å¯¹æ‰€æœ‰Laneç»Ÿä¸€é…ç½®
for (int lane = 0; lane < 16; lane++) {
    write_reg(LANE_SELECT, lane);  // é€‰æ‹©Lane
    write_reg(PRBS_RX_CTRL, 0x51); // é…ç½®PRBS
}

// ç­‰å¾…æ‰€æœ‰Lane Lock
uint32_t all_locked = 0;
for (int i = 0; i < 1000; i++) {
    all_locked = read_reg(AM_STATUS) & 0xFFFF;
    if (all_locked == 0xFFFF) break;  // 16 Laneå…¨Lock
    usleep(1000);
}

if (all_locked != 0xFFFF) {
    printf("ERROR: Not all lanes locked: 0x%04X\n", all_locked);
    // è¯†åˆ«å“ªäº›Laneå¤±è´¥
    for (int lane = 0; lane < 16; lane++) {
        if (!(all_locked & (1 << lane))) {
            printf("  Lane %d: FAILED\n", lane);
        }
    }
}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function switchMode(mode) {
            const normalBtn = document.querySelector('.mode-btn.normal');
            const prbsBtn = document.querySelector('.mode-btn.prbs');
            
            if (mode === 'normal') {
                normalBtn.classList.add('active');
                prbsBtn.classList.remove('active');
                // æ­£å¸¸æ¨¡å¼ï¼šæ·¡åŒ–PRBSæ¨¡å—
                document.querySelectorAll('.module-box.prbs').forEach(box => {
                    box.style.opacity = '0.5';
                    box.style.animation = 'none';
                });
            } else {
                normalBtn.classList.remove('active');
                prbsBtn.classList.add('active');
                // PRBSæ¨¡å¼ï¼šçªå‡ºæ˜¾ç¤ºPRBSæ¨¡å—
                document.querySelectorAll('.module-box.prbs').forEach(box => {
                    box.style.opacity = '1';
                    box.style.animation = 'glow 2s infinite';
                });
            }
        }

        function switchTab(tabName) {
            // éšè—æ‰€æœ‰å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.remove('active');
            });
            
            // ç§»é™¤æ‰€æœ‰æŒ‰é’®çš„activeçŠ¶æ€
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹
            document.getElementById(tabName).classList.add('active');
            
            // æ¿€æ´»å¯¹åº”æŒ‰é’®
            event.target.classList.add('active');
        }

        // æ·»åŠ å‘å…‰åŠ¨ç”»
        const style = document.createElement('style');
        style.textContent = `
            @keyframes glow {
                0%, 100% {
                    box-shadow: 0 0 20px rgba(255, 0, 128, 0.8);
                }
                50% {
                    box-shadow: 0 0 40px rgba(255, 0, 128, 1);
                }
            }
        `;
        document.head.appendChild(style);

        // æ¨¡å—æ‚¬åœæç¤º
        document.querySelectorAll('.module-box').forEach(box => {
            box.addEventListener('click', function() {
                const name = this.querySelector('.module-name').textContent;
                const desc = this.querySelector('.module-desc').textContent;
                alert(`æ¨¡å—ï¼š${name}\n\nåŠŸèƒ½ï¼š${desc}\n\nç‚¹å‡»å¯æŸ¥çœ‹æ›´å¤šè¯¦æƒ…`);
            });
        });

        // åˆå§‹åŒ–æ—¶è®¾ç½®æ­£å¸¸æ¨¡å¼
        window.addEventListener('load', function() {
            switchMode('normal');
        });
    </script>
</body>
</html>						