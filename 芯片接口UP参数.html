<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">  
    <title>äº¤æ¢èŠ¯ç‰‡ç½‘ç»œæ¥å£UPæ¡ä»¶è¯¦è§£</title>  
    <style>  
        * {  
            margin: 0;  
            padding: 0;  
            box-sizing: border-box;  
        }  

        body {  
            font-family: 'Arial', 'Microsoft YaHei', sans-serif;  
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);  
            padding: 20px;  
            min-height: 100vh;  
        }  

        .container {  
            max-width: 1400px;  
            margin: 0 auto;  
            background: rgba(255, 255, 255, 0.95);  
            border-radius: 20px;  
            padding: 30px;  
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);  
        }  

        h1 {  
            text-align: center;  
            color: #2c3e50;  
            margin-bottom: 10px;  
            font-size: 2.5em;  
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);  
        }  

        .subtitle {  
            text-align: center;  
            color: #7f8c8d;  
            margin-bottom: 40px;  
            font-size: 1.2em;  
        }  

        .status-display {  
            display: flex;  
            justify-content: center;  
            align-items: center;  
            margin-bottom: 40px;  
            padding: 30px;  
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);  
            border-radius: 15px;  
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.1);  
        }  

        .port-status {  
            display: flex;  
            align-items: center;  
            gap: 20px;  
        }  

        .port-icon {  
            width: 80px;  
            height: 80px;  
            border-radius: 15px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-size: 2em;  
            transition: all 0.5s ease;  
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);  
        }  

        .port-icon.down {  
            background: linear-gradient(135deg, #e74c3c, #c0392b);  
            animation: pulse-red 2s infinite;  
        }  

        .port-icon.up {  
            background: linear-gradient(135deg, #2ecc71, #27ae60);  
            animation: pulse-green 2s infinite;  
        }  

        @keyframes pulse-red {  
            0%, 100% { transform: scale(1); box-shadow: 0 5px 15px rgba(231, 76, 60, 0.4); }  
            50% { transform: scale(1.05); box-shadow: 0 8px 25px rgba(231, 76, 60, 0.6); }  
        }  

        @keyframes pulse-green {  
            0%, 100% { transform: scale(1); box-shadow: 0 5px 15px rgba(46, 204, 113, 0.4); }  
            50% { transform: scale(1.05); box-shadow: 0 8px 25px rgba(46, 204, 113, 0.6); }  
        }  

        .status-text {  
            font-size: 2em;  
            font-weight: bold;  
            color: #2c3e50;  
        }  

        .status-text.down {  
            color: #e74c3c;  
        }  

        .status-text.up {  
            color: #27ae60;  
        }  

        .controls {  
            display: flex;  
            justify-content: center;  
            gap: 15px;  
            margin-bottom: 40px;  
            flex-wrap: wrap;  
        }  

        .btn {  
            padding: 12px 30px;  
            font-size: 1em;  
            border: none;  
            border-radius: 8px;  
            cursor: pointer;  
            transition: all 0.3s ease;  
            font-weight: bold;  
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);  
        }  

        .btn:hover {  
            transform: translateY(-2px);  
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);  
        }  

        .btn-start {  
            background: linear-gradient(135deg, #3498db, #2980b9);  
            color: white;  
        }  

        .btn-reset {  
            background: linear-gradient(135deg, #95a5a6, #7f8c8d);  
            color: white;  
        }  

        .layers {  
            display: grid;  
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));  
            gap: 20px;  
            margin-bottom: 30px;  
        }  

        .layer {  
            background: white;  
            border-radius: 12px;  
            padding: 20px;  
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);  
            transition: all 0.3s ease;  
        }  

        .layer:hover {  
            transform: translateY(-5px);  
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);  
        }  

        .layer-title {  
            font-size: 1.3em;  
            font-weight: bold;  
            margin-bottom: 15px;  
            color: #2c3e50;  
            border-bottom: 3px solid #3498db;  
            padding-bottom: 10px;  
        }  

        .condition {  
            margin: 12px 0;  
            padding: 12px;  
            border-radius: 8px;  
            background: #ecf0f1;  
            display: flex;  
            align-items: center;  
            gap: 12px;  
            transition: all 0.3s ease;  
            position: relative;  
            overflow: hidden;  
        }  

        .condition.checking {  
            background: linear-gradient(90deg, #fff3cd 0%, #ffeaa7 50%, #fff3cd 100%);  
            background-size: 200% 100%;  
            animation: shimmer 2s linear infinite;  
        }  

        .condition.passed {  
            background: linear-gradient(135deg, #d4edda, #c3e6cb);  
            border-left: 4px solid #28a745;  
        }  

        .condition.failed {  
            background: linear-gradient(135deg, #f8d7da, #f5c6cb);  
            border-left: 4px solid #dc3545;  
        }  

        @keyframes shimmer {  
            0% { background-position: -200% 0; }  
            100% { background-position: 200% 0; }  
        }  

        .condition-icon {  
            width: 30px;  
            height: 30px;  
            border-radius: 50%;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-size: 1.2em;  
            flex-shrink: 0;  
        }  

        .condition-icon.pending {  
            background: #95a5a6;  
            color: white;  
        }  

        .condition-icon.checking {  
            background: #f39c12;  
            color: white;  
            animation: rotate 1s linear infinite;  
        }  

        .condition-icon.passed {  
            background: #28a745;  
            color: white;  
            animation: checkmark 0.5s ease;  
        }  

        .condition-icon.failed {  
            background: #dc3545;  
            color: white;  
            animation: shake 0.5s ease;  
        }  

        @keyframes rotate {  
            0% { transform: rotate(0deg); }  
            100% { transform: rotate(360deg); }  
        }  

        @keyframes checkmark {  
            0% { transform: scale(0); }  
            50% { transform: scale(1.2); }  
            100% { transform: scale(1); }  
        }  

        @keyframes shake {  
            0%, 100% { transform: translateX(0); }  
            25% { transform: translateX(-5px); }  
            75% { transform: translateX(5px); }  
        }  

        .condition-text {  
            flex: 1;  
            font-size: 0.95em;  
            color: #2c3e50;  
        }  

        .condition-detail {  
            font-size: 0.85em;  
            color: #7f8c8d;  
            margin-top: 5px;  
        }  

        .progress-bar {  
            width: 100%;  
            height: 30px;  
            background: #ecf0f1;  
            border-radius: 15px;  
            overflow: hidden;  
            margin-bottom: 30px;  
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);  
        }  

        .progress-fill {  
            height: 100%;  
            background: linear-gradient(90deg, #3498db, #2ecc71);  
            width: 0%;  
            transition: width 0.5s ease;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            color: white;  
            font-weight: bold;  
            font-size: 0.9em;  
        }  

        .timeline {  
            display: flex;  
            justify-content: space-between;  
            margin-bottom: 30px;  
            position: relative;  
            padding: 20px 0;  
        }  

        .timeline::before {  
            content: '';  
            position: absolute;  
            top: 50%;  
            left: 0;  
            right: 0;  
            height: 4px;  
            background: #ecf0f1;  
            transform: translateY(-50%);  
            z-index: 0;  
        }  

        .timeline-item {  
            position: relative;  
            z-index: 1;  
            text-align: center;  
            flex: 1;  
        }  

        .timeline-dot {  
            width: 40px;  
            height: 40px;  
            border-radius: 50%;  
            background: #ecf0f1;  
            margin: 0 auto 10px;  
            display: flex;  
            align-items: center;  
            justify-content: center;  
            font-weight: bold;  
            transition: all 0.3s ease;  
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);  
        }  

        .timeline-dot.active {  
            background: linear-gradient(135deg, #3498db, #2980b9);  
            color: white;  
            transform: scale(1.2);  
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.5);  
        }  

        .timeline-dot.completed {  
            background: linear-gradient(135deg, #2ecc71, #27ae60);  
            color: white;  
        }  

        .timeline-label {  
            font-size: 0.85em;  
            color: #7f8c8d;  
            font-weight: bold;  
        }  

        .info-panel {  
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);  
            border-left: 5px solid #4caf50;  
            padding: 20px;  
            border-radius: 8px;  
            margin-top: 30px;  
        }  

        .info-title {  
            font-size: 1.2em;  
            font-weight: bold;  
            color: #2e7d32;  
            margin-bottom: 10px;  
        }  

        .info-content {  
            color: #1b5e20;  
            line-height: 1.6;  
        }  

        .stats {  
            display: grid;  
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));  
            gap: 15px;  
            margin-top: 30px;  
        }  

        .stat-card {  
            background: white;  
            padding: 20px;  
            border-radius: 10px;  
            text-align: center;  
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);  
            transition: all 0.3s ease;  
        }  

        .stat-card:hover {  
            transform: translateY(-3px);  
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);  
        }  

        .stat-value {  
            font-size: 2em;  
            font-weight: bold;  
            color: #3498db;  
            margin-bottom: 5px;  
        }  

        .stat-label {  
            font-size: 0.9em;  
            color: #7f8c8d;  
        }  

        @media (max-width: 768px) {  
            h1 {  
                font-size: 1.8em;  
            }  
            
            .layers {  
                grid-template-columns: 1fr;  
            }  
            
            .timeline {  
                flex-direction: column;  
                gap: 20px;  
            }  
            
            .timeline::before {  
                width: 4px;  
                height: 100%;  
                left: 20px;  
                top: 0;  
            }  
        }  
    </style>  
</head>  
<body>  
    <div class="container">  
        <h1>ğŸ”Œ äº¤æ¢èŠ¯ç‰‡ç½‘ç»œæ¥å£UPæ¡ä»¶è¯¦è§£</h1>  
        <p class="subtitle">800Gä»¥å¤ªç½‘æ¥å£é“¾è·¯å»ºç«‹å®Œæ•´æµç¨‹</p>  

        <div class="status-display">  
            <div class="port-status">  
                <div class="port-icon down" id="portIcon">âŒ</div>  
                <div>  
                    <div class="status-text down" id="statusText">Link DOWN</div>  
                    <div style="color: #7f8c8d; margin-top: 5px;" id="statusDetail">ç­‰å¾…æ£€æµ‹...</div>  
                </div>  
            </div>  
        </div>  

        <div class="progress-bar">  
            <div class="progress-fill" id="progressBar">0%</div>  
        </div>  

        <div class="timeline" id="timeline">  
            <div class="timeline-item">  
                <div class="timeline-dot">1</div>  
                <div class="timeline-label">ç‰©ç†å±‚</div>  
            </div>  
            <div class="timeline-item">  
                <div class="timeline-dot">2</div>  
                <div class="timeline-label">PCSå±‚</div>  
            </div>  
            <div class="timeline-item">  
                <div class="timeline-dot">3</div>  
                <div class="timeline-label">PMAå±‚</div>  
            </div>  
            <div class="timeline-item">  
                <div class="timeline-dot">4</div>  
                <div class="timeline-label">é“¾è·¯å±‚</div>  
            </div>  
            <div class="timeline-item">  
                <div class="timeline-dot">5</div>  
                <div class="timeline-label">å®Œæˆ</div>  
            </div>  
        </div>  

        <div class="controls">  
            <button class="btn btn-start" onclick="startCheck()">ğŸš€ å¼€å§‹é“¾è·¯æ£€æµ‹</button>  
            <button class="btn btn-reset" onclick="resetCheck()">ğŸ”„ é‡ç½®çŠ¶æ€</button>  
        </div>  

        <div class="layers" id="layers">  
            <!-- ç‰©ç†å±‚ -->  
            <div class="layer">  
                <div class="layer-title">âš¡ 1. ç‰©ç†å±‚ (Physical Layer)</div>  
                <div class="condition" data-layer="0" data-index="0">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">å…‰æ¨¡å—æ’å…¥æ£€æµ‹</div>  
                        <div class="condition-detail">æ£€æµ‹SFP/QSFPæ¨¡å—æ˜¯å¦æ­£ç¡®æ’å…¥</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="0" data-index="1">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">å…‰åŠŸç‡æ£€æµ‹</div>  
                        <div class="condition-detail">TX: -5dBm ~ +3dBm, RX: -14dBm ~ +3dBm</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="0" data-index="2">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">æ¿€å…‰å™¨ä½¿èƒ½</div>  
                        <div class="condition-detail">TX Disable = 0, Laser ON</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="0" data-index="3">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">æ¸©åº¦æ£€æµ‹</div>  
                        <div class="condition-detail">å·¥ä½œæ¸©åº¦: 0Â°C ~ 70Â°C</div>  
                    </div>  
                </div>  
            </div>  

            <!-- PCSå±‚ -->  
            <div class="layer">  
                <div class="layer-title">ğŸ”§ 2. PCSå±‚ (Physical Coding Sublayer)</div>  
                <div class="condition" data-layer="1" data-index="0">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">Block Lock</div>  
                        <div class="condition-detail">64/66b æˆ– 256/257b ç¼–ç åŒæ­¥</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="1" data-index="1">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">AM Lock (å¯¹é½æ ‡è®°é”å®š)</div>  
                        <div class="condition-detail">8æ¡laneçš„Alignment Markeræ£€æµ‹</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="1" data-index="2">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">Lane Deskew</div>  
                        <div class="condition-detail">å¤šlaneå¯¹é½ï¼Œskew < 20ns</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="1" data-index="3">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">BER < é˜ˆå€¼</div>  
                        <div class="condition-detail">è¯¯ç ç‡ < 10â»Â¹Â²</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="1" data-index="4">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">æ¥æ”¶åˆ°æœ‰æ•ˆIDLE</div>  
                        <div class="condition-detail">æ£€æµ‹åˆ°IDLE ordered sets</div>  
                    </div>  
                </div>  
            </div>  

            <!-- PMAå±‚ -->  
            <div class="layer">  
                <div class="layer-title">ğŸ“¡ 3. PMAå±‚ (Physical Medium Attachment)</div>  
                <div class="condition" data-layer="2" data-index="0">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">CDR Lock (æ—¶é’Ÿæ¢å¤)</div>  
                        <div class="condition-detail">æ¯æ¡laneçš„CDRé”å®š</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="2" data-index="1">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">Signal Detect</div>  
                        <div class="condition-detail">æ¥æ”¶åˆ°æœ‰æ•ˆå…‰ä¿¡å·</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="2" data-index="2">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">SerDes Ready</div>  
                        <div class="condition-detail">8ä¸ªSerDesé€šé“å°±ç»ª</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="2" data-index="3">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">çœ¼å›¾è´¨é‡</div>  
                        <div class="condition-detail">çœ¼é«˜ > 60mV, çœ¼å®½ > 0.4UI</div>  
                    </div>  
                </div>  
            </div>  

            <!-- é“¾è·¯å±‚ -->  
            <div class="layer">  
                <div class="layer-title">ğŸ”— 4. é“¾è·¯å±‚ (Link Layer)</div>  
                <div class="condition" data-layer="3" data-index="0">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">FECä½¿èƒ½å¹¶åŒæ­¥</div>  
                        <div class="condition-detail">RS-FEC (544,514) è§£ç æ­£å¸¸</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="3" data-index="1">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">æœ¬åœ°æ•…éšœæ¸…é™¤</div>  
                        <div class="condition-detail">Local Fault = 0</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="3" data-index="2">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">è¿œç«¯æ•…éšœæ¸…é™¤</div>  
                        <div class="condition-detail">Remote Fault = 0</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="3" data-index="3">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">æ¥æ”¶æ­£å¸¸å¸§</div>  
                        <div class="condition-detail">æ¥æ”¶åˆ°æœ‰æ•ˆä»¥å¤ªç½‘å¸§</div>  
                    </div>  
                </div>  
            </div>  

            <!-- åè®®å±‚ -->  
            <div class="layer">  
                <div class="layer-title">ğŸ“‹ 5. åè®®å±‚æ£€æŸ¥</div>  
                <div class="condition" data-layer="4" data-index="0">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">ç®¡ç†æ¥å£ä½¿èƒ½</div>  
                        <div class="condition-detail">Admin Status = UP</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="4" data-index="1">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">é€Ÿç‡åå•†å®Œæˆ</div>  
                        <div class="condition-detail">Auto-negotiation æˆ–å¼ºåˆ¶800G</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="4" data-index="2">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">æµæ§é…ç½®æ­£ç¡®</div>  
                        <div class="condition-detail">PFC/Global Pause é…ç½®ä¸€è‡´</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="4" data-index="3">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">LLDP/åè®®æ­£å¸¸</div>  
                        <div class="condition-detail">é‚»å±…å‘ç°åè®®è¿è¡Œ</div>  
                    </div>  
                </div>  
            </div>  

            <!-- ç³»ç»Ÿå±‚ -->  
            <div class="layer">  
                <div class="layer-title">âš™ï¸ 6. ç³»ç»Ÿå±‚æ¡ä»¶</div>  
                <div class="condition" data-layer="5" data-index="0">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">ä¾›ç”µæ­£å¸¸</div>  
                        <div class="condition-detail">VDD 3.3V Â± 5%</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="5" data-index="1">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">æ—¶é’Ÿç¨³å®š</div>  
                        <div class="condition-detail">å‚è€ƒæ—¶é’Ÿ 156.25MHz é”å®š</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="5" data-index="2">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">å¤ä½é‡Šæ”¾</div>  
                        <div class="condition-detail">Port Reset = 0</div>  
                    </div>  
                </div>  
                <div class="condition" data-layer="5" data-index="3">  
                    <div class="condition-icon pending">â—‹</div>  
                    <div>  
                        <div class="condition-text">å›ºä»¶åŠ è½½å®Œæˆ</div>  
                        <div class="condition-detail">SerDes firmware ready</div>  
                    </div>  
                </div>  
            </div>  
        </div>  

        <div class="stats">  
            <div class="stat-card">  
                <div class="stat-value" id="totalConditions">26</div>  
                <div class="stat-label">æ€»æ£€æµ‹é¡¹</div>  
            </div>  
            <div class="stat-card">  
                <div class="stat-value" id="passedConditions">0</div>  
                <div class="stat-label">å·²é€šè¿‡</div>  
            </div>  
            <div class="stat-card">  
                <div class="stat-value" id="failedConditions">0</div>  
                <div class="stat-label">å¤±è´¥</div>  
            </div>  
            <div class="stat-card">  
                <div class="stat-value" id="elapsedTime">0s</div>  
                <div class="stat-label">è€—æ—¶</div>  
            </div>  
        </div>  

        <div class="info-panel">  
            <div class="info-title">ğŸ’¡ å…³é”®è¯´æ˜</div>  
            <div class="info-content">  
                <p><strong>é“¾è·¯UPçš„å¿…è¦æ¡ä»¶ï¼š</strong>æ‰€æœ‰æ£€æµ‹é¡¹å¿…é¡»å…¨éƒ¨é€šè¿‡(PASS)ï¼Œä»»ä½•ä¸€é¡¹å¤±è´¥éƒ½ä¼šå¯¼è‡´é“¾è·¯æ— æ³•UPã€‚</p>  
                <p><strong>å…¸å‹UPæ—¶é—´ï¼š</strong>ä»å†·å¯åŠ¨åˆ°é“¾è·¯UPé€šå¸¸éœ€è¦ 2-5 ç§’ï¼ŒåŒ…æ‹¬SerDesåˆå§‹åŒ–ã€PCSåŒæ­¥ã€FECé”å®šç­‰è¿‡ç¨‹ã€‚</p>  
                <p><strong>å¸¸è§å¤±è´¥åŸå› ï¼š</strong></p>  
                <ul style="margin-left: 20px; margin-top: 10px;">  
                    <li>å…‰æ¨¡å—æœªæ’å…¥æˆ–æ¥è§¦ä¸è‰¯</li>  
                    <li>å…‰çº¤è¿æ¥é”™è¯¯æˆ–æ–­è£‚</li>  
                    <li>ä¸¤ç«¯é€Ÿç‡/FECé…ç½®ä¸åŒ¹é…</li>  
                    <li>SerDeså‡è¡¡å‚æ•°ä¸æ­£ç¡®</li>  
                    <li>ç¯å¢ƒæ¸©åº¦è¶…å‡ºèŒƒå›´</li>  
                </ul>  
            </div>  
        </div>  
    </div>  

    <script>  
        let isChecking = false;  
        let currentLayer = 0;  
        let currentCondition = 0;  
        let startTime = 0;  
        let timerInterval = null;  
        let totalConditions = 26;  
        let passedCount = 0;  
        let failedCount = 0;  

        const layers = [  
            { name: 'ç‰©ç†å±‚', conditions: 4 },  
            { name: 'PCSå±‚', conditions: 5 },  
            { name: 'PMAå±‚', conditions: 4 },  
            { name: 'é“¾è·¯å±‚', conditions: 4 },  
            { name: 'åè®®å±‚', conditions: 5 },  
            { name: 'ç³»ç»Ÿå±‚', conditions: 4 }  
        ];  

        function startCheck() {  
            if (isChecking) return;  
            
            resetCheck();  
            isChecking = true;  
            startTime = Date.now();  
            
            // å¯åŠ¨è®¡æ—¶å™¨  
            timerInterval = setInterval(updateTimer, 100);  
            
            // å¼€å§‹æ£€æµ‹  
            checkNextCondition();  
        }  

        function updateTimer() {  
            const elapsed = ((Date.now() - startTime) / 1000).toFixed(1);  
            document.getElementById('elapsedTime').textContent = elapsed + 's';  
        }  

        function checkNextCondition() {  
            if (!isChecking) return;  
            
            if (currentLayer >= layers.length) {  
                // æ‰€æœ‰æ£€æµ‹å®Œæˆ  
                completeCheck(true);  
                return;  
            }  

            const layer = layers[currentLayer];  
            if (currentCondition >= layer.conditions) {  
                // å½“å‰å±‚å®Œæˆï¼Œè¿›å…¥ä¸‹ä¸€å±‚  
                updateTimelineDot(currentLayer, 'completed');  
                currentLayer++;  
                currentCondition = 0;  
                
                if (currentLayer < layers.length) {  
                    updateTimelineDot(currentLayer, 'active');  
                    setTimeout(checkNextCondition, 300);  
                } else {  
                    completeCheck(true);  
                }  
                return;  
            }  

            // æ£€æŸ¥å½“å‰æ¡ä»¶  
            const conditionElement = document.querySelector(  
                `.condition[data-layer="${currentLayer}"][data-index="${currentCondition}"]`  
            );  
            
            if (conditionElement) {  
                // è®¾ç½®ä¸ºæ£€æµ‹ä¸­  
                conditionElement.classList.add('checking');  
                const icon = conditionElement.querySelector('.condition-icon');  
                icon.classList.remove('pending');  
                icon.classList.add('checking');  
                icon.textContent = 'âŸ³';  

                // æ›´æ–°timeline  
                updateTimelineDot(currentLayer, 'active');  

                // æ¨¡æ‹Ÿæ£€æµ‹ï¼ˆ90%æˆåŠŸç‡ï¼‰  
                setTimeout(() => {  
                    const success = Math.random() > 0.05; // 95%æˆåŠŸç‡  
                    
                    conditionElement.classList.remove('checking');  
                    if (success) {  
                        conditionElement.classList.add('passed');  
                        icon.classList.remove('checking');  
                        icon.classList.add('passed');  
                                                icon.textContent = 'âœ“';
                        passedCount++;
                    } else {
                        conditionElement.classList.add('failed');
                        icon.classList.remove('checking');
                        icon.classList.add('failed');
                        icon.textContent = 'âœ—';
                        failedCount++;
                        
                        // å¦‚æœå¤±è´¥ï¼Œåœæ­¢æ£€æµ‹
                        completeCheck(false);
                        return;
                    }
                    
                    // æ›´æ–°ç»Ÿè®¡
                    updateStats();
                    
                    // æ›´æ–°è¿›åº¦
                    updateProgress();
                    
                    // æ£€æŸ¥ä¸‹ä¸€é¡¹
                    currentCondition++;
                    setTimeout(checkNextCondition, 500);
                }, 800);
            }
        }

        function updateTimelineDot(index, status) {
            const dots = document.querySelectorAll('.timeline-dot');
            if (dots[index]) {
                dots[index].classList.remove('active', 'completed');
                if (status === 'active') {
                    dots[index].classList.add('active');
                } else if (status === 'completed') {
                    dots[index].classList.add('completed');
                    dots[index].textContent = 'âœ“';
                }
            }
        }

        function updateProgress() {
            const total = totalConditions;
            const completed = passedCount + failedCount;
            const percentage = Math.round((completed / total) * 100);
            
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = percentage + '%';
        }

        function updateStats() {
            document.getElementById('passedConditions').textContent = passedCount;
            document.getElementById('failedConditions').textContent = failedCount;
        }

        function completeCheck(success) {
            isChecking = false;
            clearInterval(timerInterval);
            
            const portIcon = document.getElementById('portIcon');
            const statusText = document.getElementById('statusText');
            const statusDetail = document.getElementById('statusDetail');
            
            if (success) {
                // é“¾è·¯UP
                portIcon.classList.remove('down');
                portIcon.classList.add('up');
                portIcon.textContent = 'âœ“';
                
                statusText.classList.remove('down');
                statusText.classList.add('up');
                statusText.textContent = 'Link UP';
                
                statusDetail.textContent = 'æ‰€æœ‰æ£€æµ‹é¡¹é€šè¿‡ï¼Œé“¾è·¯å·²å»ºç«‹';
                statusDetail.style.color = '#27ae60';
                
                // å®Œæˆæœ€åä¸€ä¸ªtimeline
                updateTimelineDot(layers.length - 1, 'completed');
                
                // åº†ç¥åŠ¨ç”»
                celebrateSuccess();
            } else {
                // é“¾è·¯DOWN
                statusDetail.textContent = 'æ£€æµ‹å¤±è´¥ï¼Œé“¾è·¯æ— æ³•å»ºç«‹';
                statusDetail.style.color = '#e74c3c';
                
                // æ˜¾ç¤ºå¤±è´¥æç¤º
                showFailureMessage();
            }
            
            updateStats();
        }

        function celebrateSuccess() {
            // åˆ›å»ºåº†ç¥ç‰¹æ•ˆ
            const container = document.querySelector('.container');
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    createConfetti();
                }, i * 50);
            }
        }

        function createConfetti() {
            const confetti = document.createElement('div');
            confetti.style.position = 'fixed';
            confetti.style.width = '10px';
            confetti.style.height = '10px';
            confetti.style.backgroundColor = ['#3498db', '#2ecc71', '#f39c12', '#e74c3c', '#9b59b6'][Math.floor(Math.random() * 5)];
            confetti.style.left = Math.random() * window.innerWidth + 'px';
            confetti.style.top = '-20px';
            confetti.style.borderRadius = '50%';
            confetti.style.pointerEvents = 'none';
            confetti.style.zIndex = '9999';
            confetti.style.transition = 'all 2s ease-out';
            
            document.body.appendChild(confetti);
            
            setTimeout(() => {
                confetti.style.top = window.innerHeight + 'px';
                confetti.style.transform = 'rotate(720deg)';
                confetti.style.opacity = '0';
            }, 10);
            
            setTimeout(() => {
                confetti.remove();
            }, 2000);
        }

        function showFailureMessage() {
            const failedElement = document.querySelector('.condition.failed');
            if (failedElement) {
                failedElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                
                // é—ªçƒæ•ˆæœ
                let blinks = 0;
                const blinkInterval = setInterval(() => {
                    failedElement.style.opacity = failedElement.style.opacity === '0.3' ? '1' : '0.3';
                    blinks++;
                    if (blinks >= 6) {
                        clearInterval(blinkInterval);
                        failedElement.style.opacity = '1';
                    }
                }, 200);
            }
        }

        function resetCheck() {
            isChecking = false;
            currentLayer = 0;
            currentCondition = 0;
            passedCount = 0;
            failedCount = 0;
            
            clearInterval(timerInterval);
            
            // é‡ç½®æ‰€æœ‰æ¡ä»¶
            const conditions = document.querySelectorAll('.condition');
            conditions.forEach(condition => {
                condition.classList.remove('checking', 'passed', 'failed');
                const icon = condition.querySelector('.condition-icon');
                icon.classList.remove('checking', 'passed', 'failed');
                icon.classList.add('pending');
                icon.textContent = 'â—‹';
            });
            
            // é‡ç½®timeline
            const dots = document.querySelectorAll('.timeline-dot');
            dots.forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                dot.textContent = (index + 1);
            });
            
            // é‡ç½®çŠ¶æ€æ˜¾ç¤º
            const portIcon = document.getElementById('portIcon');
            const statusText = document.getElementById('statusText');
            const statusDetail = document.getElementById('statusDetail');
            
            portIcon.classList.remove('up');
            portIcon.classList.add('down');
            portIcon.textContent = 'âŒ';
            
            statusText.classList.remove('up');
            statusText.classList.add('down');
            statusText.textContent = 'Link DOWN';
            
            statusDetail.textContent = 'ç­‰å¾…æ£€æµ‹...';
            statusDetail.style.color = '#7f8c8d';
            
            // é‡ç½®è¿›åº¦æ¡
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = '0%';
            progressBar.textContent = '0%';
            
            // é‡ç½®ç»Ÿè®¡
            document.getElementById('passedConditions').textContent = '0';
            document.getElementById('failedConditions').textContent = '0';
            document.getElementById('elapsedTime').textContent = '0s';
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŠ¨ç”»
        window.addEventListener('load', () => {
            const layers = document.querySelectorAll('.layer');
            layers.forEach((layer, index) => {
                layer.style.opacity = '0';
                layer.style.transform = 'translateY(20px)';
                setTimeout(() => {
                    layer.style.transition = 'all 0.5s ease';
                    layer.style.opacity = '1';
                    layer.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });

        // æ·»åŠ é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' || e.key === ' ') {
                e.preventDefault();
                if (!isChecking) {
                    startCheck();
                }
            } else if (e.key === 'Escape' || e.key === 'r') {
                resetCheck();
            }
        });

        // æ·»åŠ æç¤ºä¿¡æ¯
        const infoPanel = document.querySelector('.info-panel');
        const keyboardHint = document.createElement('p');
        keyboardHint.style.marginTop = '15px';
        keyboardHint.style.fontSize = '0.9em';
        keyboardHint.style.color = '#2e7d32';
        keyboardHint.innerHTML = '<strong>âŒ¨ï¸ é”®ç›˜å¿«æ·é”®ï¼š</strong> Enter/Space å¼€å§‹æ£€æµ‹ | Esc/R é‡ç½®';
        infoPanel.appendChild(keyboardHint);
    </script>
</body>
</html>